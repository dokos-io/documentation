import N from"./Bf8KK-yt.js";import{ac as O,ad as E,r as $,ae as k,af as F,ag as V,d as A,ah as z,ai as X,D as x,aj as S,a5 as Y,ak as G,E as I,G as L,al as R,am as J,b as l,c as b,g as w,w as y,e as P,n as g,I as o,H as C,M,f as v,J as _,j as U,t as j,P as W,N as q,p as H,i as K,l as Q,W as Z,F as ee,U as te,O as oe}from"./xj4ElaHy.js";import{_ as ae}from"./Csh7duO-.js";import{_ as re}from"./3kW7zbLE.js";import{u as ne}from"./ClAcOgLl.js";const se=O(E);function ie(a,e={}){const{x:n,y:s}=se(e),d=$(a??(window==null?void 0:window.document.body)),c=$(0),i=$(0);return k&&F([d,n,s],()=>{const f=V(d);if(!f)return;const{left:h,top:r}=f.getBoundingClientRect(),m=n.value-(h+k.scrollX),u=s.value-(r+k.scrollY);Math.abs(m)>1500||Math.abs(u)>1500||k.screen.width<=800||(c.value=m,i.value=u)},{immediate:!0,throttle:50}),{x:n,y:s,elementX:c,elementY:i}}const le=a=>(H("data-v-53db7729"),a=a(),K(),a),ce=le(()=>P("span",{class:"absolute inset-0","aria-hidden":"true"},null,-1)),de=A({inheritAttrs:!1,__name:"LandingCard",props:{...z,title:{type:String,default:void 0},description:{type:String,default:void 0},icon:{type:String,default:void 0},color:{type:String,default:"primary"},orientation:{type:String,default:"vertical"},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(a){X(t=>({fb9dae28:o(n),"674828e0":o(s)}));const e=a,n=x(()=>{var t;return e.color==="primary"?"rgb(var(--color-primary-DEFAULT))":((t=S[e.color])==null?void 0:t["500"])||S[e.color]||e.color}),s=x(()=>{var t;return e.color==="primary"?"rgb(var(--color-primary-DEFAULT))":((t=S[e.color])==null?void 0:t["400"])||S[e.color]||e.color}),d=x(()=>({wrapper:"relative group isolate rounded-xl background-gradient ring-1 ring-gray-200 dark:ring-gray-800 before:hidden before:lg:block before:absolute before:-inset-[2px] before:h-[calc(100%+4px)] before:w-[calc(100%+4px)] before:z-[-1] before:rounded-[13px] flex-1 flex flex-col shadow",to:"hover:ring-primary-500 dark:hover:ring-primary-400 transition-shadow duration-200",base:"flex-1 flex flex-col overflow-hidden",container:"",body:{base:Y("gap-x-8 gap-y-4 rounded-xl flex-1",e.orientation==="vertical"&&"flex flex-col",!!i.default&&e.orientation==="horizontal"&&"grid lg:grid-cols-2 lg:items-center")},background:"bg-white dark:bg-gray-900 hover:bg-opacity-90 dark:hover:bg-opacity-90 transition-[background-opacity]",ring:"",rounded:"rounded-xl",shadow:"",icon:{wrapper:"mb-2 pointer-events-none",base:"w-8 h-8 flex-shrink-0 text-gray-900 dark:text-white"},title:"text-gray-900 dark:text-white text-base font-bold truncate",description:"text-[15px] text-gray-500 dark:text-gray-400 mt-1"})),c=$(),i=G(),{elementX:f,elementY:h}=ie(c),{ui:r,attrs:m}=I("landing.card",L(e,"ui"),d,L(e,"class"),!0),u=x(()=>R(e)),p=x(()=>(e.title||i.title&&J(i.title())||"Card link").trim());return(t,ge)=>{const T=W,B=q,D=ae;return l(),b("div",M({ref_key:"el",ref:c,style:{"--x":`${o(f)}px`,"--y":`${o(h)}px`},class:[o(r).wrapper,t.to&&o(r).to]},o(m)),[w(D,{ui:o(r)},{default:y(()=>[P("div",{class:g(o(r).container)},[t.to?(l(),C(T,M({key:0,"aria-label":o(p)},o(u),{class:"focus:outline-none",tabindex:"-1"}),{default:y(()=>[ce]),_:1},16,["aria-label"])):v("",!0),a.icon||t.$slots.icon?(l(),b("div",{key:1,class:g(o(r).icon.wrapper)},[_(t.$slots,"icon",{},()=>[w(B,{name:a.icon,class:g(o(r).icon.base)},null,8,["name","class"])],!0)],2)):v("",!0),a.title||t.$slots.title?(l(),b("p",{key:2,class:g(o(r).title)},[_(t.$slots,"title",{},()=>[U(j(a.title),1)],!0)],2)):v("",!0),a.description||t.$slots.description?(l(),b("p",{key:3,class:g(o(r).description)},[_(t.$slots,"description",{},()=>[U(j(a.description),1)],!0)],2)):v("",!0),_(t.$slots,"container",{},void 0,!0)],2),t.$slots.default?_(t.$slots,"default",{key:0},void 0,!0):v("",!0)]),_:3},8,["ui"])],16)}}}),ue=Q(de,[["__scopeId","data-v-53db7729"]]),pe=A({inheritAttrs:!1,__name:"LandingGrid",props:{class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(a){const e={wrapper:"flex flex-col lg:grid gap-8 lg:grid-cols-12 relative"},n=a,{ui:s,attrs:d}=I("landing.grid",L(n,"ui"),e,L(n,"class"),!0);return(c,i)=>(l(),b("div",M({class:o(s).wrapper},o(d)),[_(c.$slots,"default")],16))}}),fe={__name:"LastModifiedPages",async setup(a){let e,n;const{data:s}=([e,n]=Z(()=>ne("/api/mtime",{query:{limit:5}},"$T1s50s5lw4")),e=await e,n(),e);return(d,c)=>{const i=N,f=ue,h=pe,r=oe,m=re;return l(),C(m,{title:"DerniÃ¨res modifications"},{default:y(()=>[w(h,null,{default:y(()=>{var u;return[(l(!0),b(ee,null,te((u=o(s))==null?void 0:u.recentFiles,(p,t)=>(l(),C(f,{key:p,class:g("col-span-6 row-span-"+t),title:p.title,description:p.description,to:p.to},{icon:y(()=>[w(i,{date:p.updatedAt},null,8,["date"])]),_:2},1032,["class","title","description","to"]))),128))]}),_:1}),w(r,{class:"m-auto",to:"/news","trailing-icon":"i-heroicons-arrow-right-20-solid",variant:"ghost",color:"gray"},{default:y(()=>[U(" Toutes les modifications ")]),_:1})]),_:1})}}},me=fe,ve=Object.freeze(Object.defineProperty({__proto__:null,default:me},Symbol.toStringTag,{value:"Module"}));export{ve as L,pe as _,me as a,ue as b};
