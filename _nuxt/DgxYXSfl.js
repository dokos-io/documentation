import{_ as at,a as ot}from"./C4PcWPWB.js";import rt from"./DyA7iGrk.js";import{d as C,z as R,D as T,ap as O,aq as b,b as l,ai as h,w as y,g,n as u,E as t,e as w,t as I,aj as H,ax as st,ay as it,ak as L,ab as M,ao as lt,c as x,f as v,aK as ct,r as P,H as ut,aL as dt,aM as pt,u as mt,F as gt,ah as ft,aN as yt,k as _t,x as bt,aO as K,aP as G,aQ as kt,aR as ht,aw as J,s as W,aS as vt,aT as xt,aU as wt}from"./DF-aNQsY.js";import{_ as Ct}from"./rxdzcpdz.js";import{_ as $t,a as At}from"./BjbceqK0.js";import{_ as St}from"./Dr8eZO2f.js";import{a as Ut}from"./BhCHo9Hz.js";import"./D8yjWMgb.js";import"./BsiLoc5j.js";import"./C-F1gjmX.js";import"./C3-224fz.js";import"./BosuxZz1.js";import"./BneCoJRQ.js";import"./D_WXpmY6.js";const It=C({inheritAttrs:!1,__name:"LandingFAQ",props:{items:{type:Array,default:()=>[]},multiple:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(a){const r=R(),i=T(()=>({wrapper:"divide-y divide-gray-200 dark:divide-gray-800 -mt-6",container:"divide-y divide-gray-200 dark:divide-gray-800",item:{size:"text-base",padding:"py-6"},button:{base:"text-left text-lg py-6 w-full",label:"text-gray-900 dark:text-white",trailingIcon:{name:r.ui.icons.chevron,base:"w-5 h-5 ms-auto transform transition-transform duration-200 flex-shrink-0 mr-1.5",active:"",inactive:"-rotate-90"}}})),o=a,{ui:n,attrs:s}=O("landing.faq",b(o,"ui"),i,b(o,"class"),!0);return(e,d)=>{const p=M,c=lt,k=$t;return l(),h(k,L({class:t(n).wrapper,items:a.items,multiple:a.multiple},t(s),{ui:{item:t(n).item,container:t(n).container}}),{default:y(({item:f,open:m})=>[g(c,{color:"gray",variant:"link",ui:{rounded:"rounded-none",color:{gray:{link:"hover:no-underline"}}},padded:!1,class:u(t(n).button.base)},{trailing:y(()=>[g(p,{name:t(n).button.trailingIcon.name,class:u([t(n).button.trailingIcon.base,m?t(n).button.trailingIcon.active:t(n).button.trailingIcon.inactive])},null,8,["name","class"])]),default:y(()=>[w("span",{class:u(t(n).button.label)},I(f.label),3)]),_:2},1032,["class"])]),item:y(f=>[H(e.$slots,"item",st(it(f)))]),_:3},16,["class","items","multiple","ui"])}}}),Ot=C({inheritAttrs:!1,__name:"ContentSurroundLink",props:{link:{type:Object,required:!0},icon:{type:String,default:void 0},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(a){const r={wrapper:"block px-6 py-8 border not-prose rounded-lg border-gray-200 dark:border-gray-800 hover:bg-gray-100/50 dark:hover:bg-gray-800/50 group",icon:{wrapper:"inline-flex items-center rounded-full p-1.5 bg-gray-100 dark:bg-gray-800 group-hover:bg-primary/10 ring-1 ring-gray-300 dark:ring-gray-700 mb-4 group-hover:ring-primary/50",base:"w-5 h-5 text-gray-900 dark:text-white group-hover:text-primary"},title:"font-medium text-gray-900 dark:text-white text-[15px] mb-1",description:"text-sm font-normal text-gray-500 dark:text-gray-400 line-clamp-2"},i=a,{ui:o,attrs:n}=O("content.surround.link",b(i,"ui"),r,b(i,"class"),!0);return(s,e)=>{const d=M,p=ct;return l(),h(p,L({to:a.link._path,class:t(o).wrapper},t(n)),{default:y(()=>[a.icon||a.link.icon?(l(),x("div",{key:0,class:u(t(o).icon.wrapper)},[g(d,{name:a.icon||a.link.icon,class:u(t(o).icon.base)},null,8,["name","class"])],2)):v("",!0),w("p",{class:u(t(o).title)},I(a.link.title),3),w("p",{class:u(t(o).description)},I(a.link.description),3)]),_:1},16,["to","class"])}}}),Lt={key:1,class:"hidden sm:block"},jt=C({inheritAttrs:!1,__name:"ContentSurround",props:{surround:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(a){const r={wrapper:"grid gap-8 sm:grid-cols-2",icon:{prev:"i-heroicons-arrow-left-20-solid",next:"i-heroicons-arrow-right-20-solid"},link:{}},i=a,{ui:o,attrs:n}=O("content.surround",b(i,"ui"),r,b(i,"class"),!0),[s,e]=i.surround||[];return(d,p)=>{const c=Ot;return l(),x("div",L({class:t(o).wrapper},t(n)),[t(s)?(l(),h(c,{key:0,link:t(s),ui:t(o).link,icon:t(o).icon.prev},null,8,["link","ui","icon"])):(l(),x("span",Lt," ")),t(e)?(l(),h(c,{key:2,link:t(e),ui:t(o).link,icon:t(o).icon.next,class:"text-right"},null,8,["link","ui","icon"])):v("",!0)],16)}}}),qt=()=>{const a=P(),r=P([]),i=P([]),o=s=>{s.forEach(e=>{const d=e.target.id;e.isIntersecting?r.value=[...r.value,d]:r.value=r.value.filter(p=>p!==d)})},n=s=>{s.forEach(e=>{a.value&&a.value.observe(e)})};return ut(r,(s,e)=>{s.length===0?i.value=e:i.value=s}),dt(()=>a.value=new IntersectionObserver(o)),pt(()=>{var s;return(s=a.value)==null?void 0:s.disconnect()}),{visibleHeadings:r,activeHeadings:i,updateHeadings:n}},Bt=["href","onClick"],X=C({inheritAttrs:!1,__name:"ContentTocLinks",props:{links:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},emits:["move"],setup(a,{emit:r}){const i={wrapper:"space-y-1",base:"block text-sm/6 truncate",active:"text-primary",inactive:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",depth:"ml-3"},o=a,n=r,s=mt(),e=_t(),{activeHeadings:d,updateHeadings:p}=qt(),{ui:c,attrs:k}=O("content.toc.links",b(o,"ui"),i,b(o,"class"),!0);e.hooks.hookOnce("page:finish",()=>{p([...document.querySelectorAll("h2"),...document.querySelectorAll("h3")])});const f=m=>{const $=encodeURIComponent(m);s.push(`#${$}`),n("move",m)};return(m,$)=>{var q;const j=X;return(q=a.links)!=null&&q.length?(l(),x("ul",L({key:0,class:t(c).wrapper},t(k)),[(l(!0),x(gt,null,ft(a.links,_=>(l(),x("li",{key:_.text,class:u([t(c).wrapper,_.depth===3&&t(c).depth])},[w("a",{href:`#${_.id}`,class:u([t(c).base,t(d).includes(_.id)?t(c).active:t(c).inactive]),onClick:yt(N=>f(_.id),["prevent"])},I(_.text),11,Bt),_.children?(l(),h(j,{key:0,links:_.children},null,8,["links"])):v("",!0)],2))),128))],16)):v("",!0)}}}),Pt=C({inheritAttrs:!1,__name:"ContentToc",props:{title:{type:String,default:"Table of Contents"},links:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(a){const r=R(),i=T(()=>({wrapper:"sticky top-[--header-height] bg-background/75 backdrop-blur -mx-4 sm:-mx-6 px-4 sm:px-6 lg:px-4 lg:-mx-4 overflow-y-auto max-h-[calc(100vh-var(--header-height))]",container:{base:"py-3 lg:py-8 border-b border-dashed border-gray-200 dark:border-gray-800 lg:border-0 space-y-3",empty:"lg:py-8 space-y-3"},button:{base:"flex items-center gap-1.5 lg:cursor-text lg:select-text w-full group",label:"font-semibold text-sm/6 truncate",trailingIcon:{name:r.ui.icons.chevron,base:"w-5 h-5 ms-auto transform transition-transform duration-200 flex-shrink-0 mr-1.5",active:"text-gray-700 dark:text-gray-200",inactive:"text-gray-500 dark:text-gray-400 group-hover:text-gray-700 dark:group-hover:text-gray-200 -rotate-90"}},links:{}})),o=a,{ui:n,attrs:s}=O("content.toc",b(o,"ui"),i,b(o,"class"),!0),e=P(!1);return(d,p)=>{var f,m;const c=M,k=X;return l(),x("nav",L({class:t(n).wrapper},t(s)),[w("div",{class:u([(f=a.links)!=null&&f.length?t(n).container.base:t(n).container.empty])},[H(d.$slots,"top"),(m=a.links)!=null&&m.length?(l(),x("button",{key:0,class:u(t(n).button.base),tabindex:"-1",onClick:p[0]||(p[0]=$=>e.value=!t(e))},[w("span",{class:u(t(n).button.label)},I(a.title),3),g(c,{name:t(n).button.trailingIcon.name,class:u(["lg:!hidden",[t(n).button.trailingIcon.base,t(e)?t(n).button.trailingIcon.active:t(n).button.trailingIcon.inactive]])},null,8,["name","class"])],2)):v("",!0),g(k,{links:a.links,ui:t(n).links,class:u([t(e)?"lg:block":"hidden lg:block"])},null,8,["links","ui","class"]),H(d.$slots,"bottom")],2)],16)}}}),Tt={key:2},Xt=C({__name:"[...slug]",async setup(a){let r,i;const o=bt(),{toc:n,seo:s}=R(),{data:e}=([r,i]=K(()=>G(o.path,()=>W(o.path).findOne(),"$aROEKgqrzL")),r=await r,i(),r);if(!e.value)throw kt({statusCode:404,statusMessage:"Page not found",fatal:!0});const{data:d}=([r,i]=K(()=>G(`${o.path}-surround`,()=>W().where({_extension:"md",navigation:{$ne:!1}}).only(["title","description","_path"]).findSurround(vt(o.path)))),r=await r,i(),r);ht({title:e.value.title,ogTitle:`${e.value.title} - ${s==null?void 0:s.siteName}`,description:e.value.description,ogDescription:e.value.description});const p=T(()=>Ut(e.value)),c=T(()=>{var k,f,m;return[((k=n==null?void 0:n.bottom)==null?void 0:k.edit)&&{icon:"i-heroicons-pencil-square",label:"Modifier cette page",to:`${n.bottom.edit}/${(f=e==null?void 0:e.value)==null?void 0:f._file}`,target:"_blank"},...((m=n==null?void 0:n.bottom)==null?void 0:m.links)||[]].filter(Boolean)});return(k,f)=>{const m=at,$=rt,j=xt,q=Ct,_=It,N=St,Y=jt,Z=ot,tt=At,et=Pt,nt=wt;return l(),h(nt,null,J({default:y(()=>[g(m,{title:t(e).title,description:t(e).description,links:t(e).links,headline:t(p)},null,8,["title","description","links","headline"]),g(Z,{prose:""},{default:y(()=>{var A;return[t(e).body?(l(),h($,{key:0,value:t(e)},null,8,["value"])):v("",!0),t(e).faq?(l(),h(N,{key:1},{default:y(()=>{var S,U;return[g(j,{label:((S=t(e).faq)==null?void 0:S.title)||"Questions Fréquentes"},null,8,["label"]),g(_,{items:(U=t(e).faq)==null?void 0:U.items,multiple:""},{item:y(({item:B})=>[g(q,{value:B.content,class:"prose prose-primary dark:prose-invert max-w-none text-gray-500 dark:text-gray-400"},null,8,["value"])]),_:1},8,["items"])]}),_:1})):v("",!0),(A=t(d))!=null&&A.length?(l(),x("hr",Tt)):v("",!0),g(Y,{surround:t(d)},null,8,["surround"])]}),_:1})]),_:2},[t(e).toc!==!1?{name:"right",fn:y(()=>{var A,S,U,B;return[g(et,{title:(A=t(n))==null?void 0:A.title,links:(U=(S=t(e).body)==null?void 0:S.toc)==null?void 0:U.links},J({_:2},[(B=t(n))!=null&&B.bottom?{name:"bottom",fn:y(()=>{var D,E,z,F,Q,V;return[w("div",{class:u(["hidden lg:block space-y-6",{"!mt-6":(z=(E=(D=t(e).body)==null?void 0:D.toc)==null?void 0:E.links)==null?void 0:z.length}])},[(V=(Q=(F=t(e).body)==null?void 0:F.toc)==null?void 0:Q.links)!=null&&V.length?(l(),h(j,{key:0,type:"dashed"})):v("",!0),g(tt,{title:t(n).bottom.title,links:t(c)},null,8,["title","links"])],2)]}),key:"0"}:void 0]),1032,["title","links"])]}),key:"0"}:void 0]),1024)}}});export{Xt as default};
