import{d as S,ap as A,aq as k,b as o,c as d,n as c,E as e,aj as x,j as I,t as C,f as y,e as b,g as $,F as N,ah as q,ai as v,ak as w,ab as T,ao as se,w as U,aL as re,y as M,D as B,aM as Y,aN as oe,ac as ie,aO as le,r as P,H as ce,aP as ue,aQ as de,u as pe,aR as ge,k as me,v as ye,aS as Z,aT as fe,aU as ke,aw as G,aV as J,aW as he,aX as be,s as ee,aY as ve,aZ as xe}from"./DS5ZEro3.js";import _e from"./Co1K_3Jv.js";import"./roPgXdx3.js";import"./DlMvloF_.js";const we={class:"flex flex-col lg:flex-row items-start gap-6"},$e={class:"flex-1"},Ce=S({inheritAttrs:!1,__name:"PageHeader",props:{headline:{type:String,default:void 0},title:{type:String,default:void 0},description:{type:String,default:void 0},icon:{type:String,default:void 0},links:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(n){const i={wrapper:"relative border-b border-gray-200 dark:border-gray-800 py-8",container:"flex flex-col lg:flex-row lg:items-center lg:justify-between",headline:"mb-3 text-sm/6 font-semibold text-primary flex items-center gap-1.5",title:"text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white tracking-tight",description:"mt-4 text-lg text-gray-500 dark:text-gray-400",icon:{wrapper:"flex",base:"w-10 h-10 flex-shrink-0 text-primary"},links:"flex flex-wrap items-center gap-1.5 mt-4 lg:mt-0"},l=n,{ui:s,attrs:t}=A("page.header",k(l,"ui"),i,k(l,"class"),!0);return(r,a)=>{var p;const g=T,m=se;return o(),d("div",w({class:e(s).wrapper},e(t)),[n.headline||r.$slots.headline?(o(),d("div",{key:0,class:c(e(s).headline)},[x(r.$slots,"headline",{},()=>[I(C(n.headline),1)])],2)):y("",!0),b("div",we,[n.icon||r.$slots.icon?(o(),d("div",{key:0,class:c(e(s).icon.wrapper)},[x(r.$slots,"icon",{},()=>[$(g,{name:n.icon,class:c(e(s).icon.base)},null,8,["name","class"])])],2)):y("",!0),b("div",$e,[b("div",{class:c(e(s).container)},[b("h1",{class:c(e(s).title)},[x(r.$slots,"title",{},()=>[I(C(n.title),1)])],2),(p=n.links)!=null&&p.length||r.$slots.links?(o(),d("div",{key:0,class:c(e(s).links)},[x(r.$slots,"links",{},()=>[(o(!0),d(N,null,q(n.links,(f,u)=>(o(),v(m,w({key:u},{...f,target:f.target||"_blank",color:f.color||"white"},{onClick:f.click}),null,16,["onClick"]))),128))])],2)):y("",!0)],2),n.description||r.$slots.description?(o(),d("p",{key:0,class:c(e(s).description)},[x(r.$slots,"description",{},()=>[I(C(n.description),1)])],2)):y("",!0),x(r.$slots,"default")])])],16)}}}),Se=S({inheritAttrs:!1,__name:"ContentSurroundLink",props:{link:{type:Object,required:!0},icon:{type:String,default:void 0},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(n){const i={wrapper:"block px-6 py-8 border not-prose rounded-lg border-gray-200 dark:border-gray-800 hover:bg-gray-100/50 dark:hover:bg-gray-800/50 group",icon:{wrapper:"inline-flex items-center rounded-full p-1.5 bg-gray-100 dark:bg-gray-800 group-hover:bg-primary/10 ring-1 ring-gray-300 dark:ring-gray-700 mb-4 group-hover:ring-primary/50",base:"w-5 h-5 text-gray-900 dark:text-white group-hover:text-primary"},title:"font-medium text-gray-900 dark:text-white text-[15px] mb-1",description:"text-sm font-normal text-gray-500 dark:text-gray-400 line-clamp-2"},l=n,{ui:s,attrs:t}=A("content.surround.link",k(l,"ui"),i,k(l,"class"),!0);return(r,a)=>{const g=T,m=re;return o(),v(m,w({to:n.link._path,class:e(s).wrapper},e(t)),{default:U(()=>[n.icon||n.link.icon?(o(),d("div",{key:0,class:c(e(s).icon.wrapper)},[$(g,{name:n.icon||n.link.icon,class:c(e(s).icon.base)},null,8,["name","class"])],2)):y("",!0),b("p",{class:c(e(s).title)},C(n.link.title),3),b("p",{class:c(e(s).description)},C(n.link.description),3)]),_:1},16,["to","class"])}}}),Ae={key:1,class:"hidden sm:block"},Ue=S({inheritAttrs:!1,__name:"ContentSurround",props:{surround:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(n){const i={wrapper:"grid gap-8 sm:grid-cols-2",icon:{prev:"i-heroicons-arrow-left-20-solid",next:"i-heroicons-arrow-right-20-solid"},link:{}},l=n,{ui:s,attrs:t}=A("content.surround",k(l,"ui"),i,k(l,"class"),!0),[r,a]=l.surround||[];return(g,m)=>{const p=Se;return o(),d("div",w({class:e(s).wrapper},e(t)),[e(r)?(o(),v(p,{key:0,link:e(r),ui:e(s).link,icon:e(s).icon.prev},null,8,["link","ui","icon"])):(o(),d("span",Ae,"Â ")),e(a)?(o(),v(p,{key:2,link:e(a),ui:e(s).link,icon:e(s).icon.next,class:"text-right"},null,8,["link","ui","icon"])):y("",!0)],16)}}}),Oe=S({inheritAttrs:!1,__name:"PageBody",props:{prose:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(n){const i={wrapper:"mt-8 pb-24",prose:"prose prose-primary dark:prose-invert max-w-none"},l=n,{ui:s,attrs:t}=A("page.body",k(l,"ui"),i,k(l,"class"),!0);return(r,a)=>(o(),d("div",w({class:[e(s).wrapper,n.prose&&e(s).prose]},e(t)),[x(r.$slots,"default")],16))}}),je=S({inheritAttrs:!1,__name:"PageLinks",props:{title:{type:String,default:void 0},links:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(n){const i=M(),l=B(()=>({wrapper:"space-y-3",title:"text-sm/6 font-semibold flex items-center gap-1.5",container:"space-y-3 lg:space-y-1.5",base:"flex items-center gap-1.5",active:"text-primary",inactive:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",icon:{base:"w-5 h-5 flex-shrink-0"},avatar:{base:"self-center",size:"2xs"},externalIcon:{name:i.ui.icons.external,base:"w-3 h-3 absolute top-0.5 -right-3.5 text-gray-400 dark:text-gray-500"},label:"text-sm/6 font-medium relative"})),s=n,{ui:t,attrs:r}=A("page.links",k(s,"ui"),l,k(s,"class"),!0);return(a,g)=>{const m=T,p=ie,f=le;return o(),d("div",w({class:e(t).wrapper},e(r)),[n.title||a.$slots.title?(o(),d("p",{key:0,class:c(e(t).title)},[x(a.$slots,"title",{},()=>[I(C(n.title),1)])],2)):y("",!0),b("div",{class:c(e(t).container)},[x(a.$slots,"default",{},()=>[(o(!0),d(N,null,q(n.links,(u,h)=>(o(),v(f,w({key:h},e(oe)(u),{class:e(t).base,"active-class":e(t).active,"inactive-class":e(t).inactive,onClick:u.click}),{default:U(()=>[u.icon?(o(),v(m,{key:0,name:u.icon,class:c(e(Y)(e(t).icon.base,u.iconClass))},null,8,["name","class"])):y("",!0),u.avatar?(o(),v(p,w({key:1},{size:e(t).avatar.size,...u.avatar},{class:e(Y)(e(t).avatar.base,u.avatarClass)}),null,16,["class"])):y("",!0),b("span",{class:c(e(t).label)},[I(C(u.label)+" ",1),u.target==="_blank"?(o(),v(m,{key:0,name:e(t).externalIcon.name,class:c(e(t).externalIcon.base)},null,8,["name","class"])):y("",!0)],2)]),_:2},1040,["class","active-class","inactive-class","onClick"]))),128))])],2)],16)}}}),Ie=()=>{const n=P(),i=P([]),l=P([]),s=r=>{r.forEach(a=>{const g=a.target.id;a.isIntersecting?i.value=[...i.value,g]:i.value=i.value.filter(m=>m!==g)})},t=r=>{r.forEach(a=>{n.value&&n.value.observe(a)})};return ce(i,(r,a)=>{r.length===0?l.value=a:l.value=r}),ue(()=>n.value=new IntersectionObserver(s)),de(()=>{var r;return(r=n.value)==null?void 0:r.disconnect()}),{visibleHeadings:i,activeHeadings:l,updateHeadings:t}},Le=["href","onClick"],te=S({inheritAttrs:!1,__name:"ContentTocLinks",props:{links:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},emits:["move"],setup(n,{emit:i}){const l={wrapper:"space-y-1",base:"block text-sm/6 truncate",active:"text-primary",inactive:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",depth:"ml-3"},s=n,t=i,r=pe(),a=me(),{activeHeadings:g,updateHeadings:m}=Ie(),{ui:p,attrs:f}=A("content.toc.links",k(s,"ui"),l,k(s,"class"),!0);a.hooks.hookOnce("page:finish",()=>{m([...document.querySelectorAll("h2"),...document.querySelectorAll("h3")])});const u=h=>{const O=encodeURIComponent(h);r.push(`#${O}`),t("move",h)};return(h,O)=>{var L;const H=te;return(L=n.links)!=null&&L.length?(o(),d("ul",w({key:0,class:e(p).wrapper},e(f)),[(o(!0),d(N,null,q(n.links,_=>(o(),d("li",{key:_.text,class:c([e(p).wrapper,_.depth===3&&e(p).depth])},[b("a",{href:`#${_.id}`,class:c([e(p).base,e(g).includes(_.id)?e(p).active:e(p).inactive]),onClick:ge(R=>u(_.id),["prevent"])},C(_.text),11,Le),_.children?(o(),v(H,{key:0,links:_.children},null,8,["links"])):y("",!0)],2))),128))],16)):y("",!0)}}}),Pe=S({inheritAttrs:!1,__name:"ContentToc",props:{title:{type:String,default:"Table of Contents"},links:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(n){const i=M(),l=B(()=>({wrapper:"sticky top-[--header-height] bg-background/75 backdrop-blur -mx-4 sm:-mx-6 px-4 sm:px-6 lg:px-4 lg:-mx-4 overflow-y-auto max-h-[calc(100vh-var(--header-height))]",container:{base:"py-3 lg:py-8 border-b border-dashed border-gray-200 dark:border-gray-800 lg:border-0 space-y-3",empty:"lg:py-8 space-y-3"},button:{base:"flex items-center gap-1.5 lg:cursor-text lg:select-text w-full group",label:"font-semibold text-sm/6 truncate",trailingIcon:{name:i.ui.icons.chevron,base:"w-5 h-5 ms-auto transform transition-transform duration-200 flex-shrink-0 mr-1.5",active:"text-gray-700 dark:text-gray-200",inactive:"text-gray-500 dark:text-gray-400 group-hover:text-gray-700 dark:group-hover:text-gray-200 -rotate-90"}},links:{}})),s=n,{ui:t,attrs:r}=A("content.toc",k(s,"ui"),l,k(s,"class"),!0),a=P(!1);return(g,m)=>{var u,h;const p=T,f=te;return o(),d("nav",w({class:e(t).wrapper},e(r)),[b("div",{class:c([(u=n.links)!=null&&u.length?e(t).container.base:e(t).container.empty])},[x(g.$slots,"top"),(h=n.links)!=null&&h.length?(o(),d("button",{key:0,class:c(e(t).button.base),tabindex:"-1",onClick:m[0]||(m[0]=O=>a.value=!e(a))},[b("span",{class:c(e(t).button.label)},C(n.title),3),$(p,{name:e(t).button.trailingIcon.name,class:c(["lg:!hidden",[e(t).button.trailingIcon.base,e(a)?e(t).button.trailingIcon.active:e(t).button.trailingIcon.inactive]])},null,8,["name","class"])],2)):y("",!0),$(f,{links:n.links,ui:e(t).links,class:c([e(a)?"lg:block":"hidden lg:block"])},null,8,["links","ui","class"]),x(g.$slots,"bottom")],2)],16)}}}),Be={key:1},Me=S({__name:"[...slug]",async setup(n){let i,l;const s=ye(),{toc:t,seo:r}=M(),{data:a}=([i,l]=Z(()=>J(s.path,()=>ee(s.path).findOne(),"$aROEKgqrzL")),i=await i,l(),i);if(!a.value)throw fe({statusCode:404,statusMessage:"Page not found",fatal:!0});const{data:g}=([i,l]=Z(()=>J(`${s.path}-surround`,()=>ee().where({_extension:"md",navigation:{$ne:!1}}).only(["title","description","_path"]).findSurround(ve(s.path)))),i=await i,l(),i);ke({title:a.value.title,ogTitle:`${a.value.title} - ${r==null?void 0:r.siteName}`,description:a.value.description,ogDescription:a.value.description});const m=B(()=>he(a.value)),p=B(()=>{var f,u,h;return[((f=t==null?void 0:t.bottom)==null?void 0:f.edit)&&{icon:"i-heroicons-pencil-square",label:"Modifier cette page",to:`${t.bottom.edit}/${(u=a==null?void 0:a.value)==null?void 0:u._file}`,target:"_blank"},...((h=t==null?void 0:t.bottom)==null?void 0:h.links)||[]].filter(Boolean)});return(f,u)=>{const h=Ce,O=_e,H=Ue,L=Oe,_=xe,R=je,ne=Pe,ae=be;return o(),v(ae,null,G({default:U(()=>[$(h,{title:e(a).title,description:e(a).description,links:e(a).links,headline:e(m)},null,8,["title","description","links","headline"]),$(L,{prose:""},{default:U(()=>{var j;return[e(a).body?(o(),v(O,{key:0,value:e(a)},null,8,["value"])):y("",!0),(j=e(g))!=null&&j.length?(o(),d("hr",Be)):y("",!0),$(H,{surround:e(g)},null,8,["surround"])]}),_:1})]),_:2},[e(a).toc!==!1?{name:"right",fn:U(()=>{var j,E,z,D;return[$(ne,{title:(j=e(t))==null?void 0:j.title,links:(z=(E=e(a).body)==null?void 0:E.toc)==null?void 0:z.links},G({_:2},[(D=e(t))!=null&&D.bottom?{name:"bottom",fn:U(()=>{var V,F,K,Q,W,X;return[b("div",{class:c(["hidden lg:block space-y-6",{"!mt-6":(K=(F=(V=e(a).body)==null?void 0:V.toc)==null?void 0:F.links)==null?void 0:K.length}])},[(X=(W=(Q=e(a).body)==null?void 0:Q.toc)==null?void 0:W.links)!=null&&X.length?(o(),v(_,{key:0,type:"dashed"})):y("",!0),$(R,{title:e(t).bottom.title,links:e(p)},null,8,["title","links"])],2)]}),key:"0"}:void 0]),1032,["title","links"])]}),key:"0"}:void 0]),1024)}}});export{Me as default};
