import{d as S,ap as U,aq as y,b as l,c as p,n as c,E as e,aj as x,j as N,t as A,f as k,e as v,g as h,F as Y,ah as Z,ai as $,ak as C,ab as H,ao as ee,y as R,D as T,w,ax as re,ay as ie,aL as le,aM as ce,r as P,H as ue,aN as de,aO as pe,u as ge,aP as me,k as fe,v as ye,aQ as W,aR as be,aS as he,aw as X,aT as G,aU as ke,aV as ve,s as J,aW as _e,aX as xe}from"./CC8qw7xC.js";import we from"./Mi_vvFrO.js";import{_ as $e}from"./DuYyM4Dw.js";import{_ as Ae}from"./TNl-nmwY.js";import"./Ct3yFecS.js";import"./DATb_VsW.js";const Ce={class:"flex flex-col lg:flex-row items-start gap-6"},Se={class:"flex-1"},Ue=S({inheritAttrs:!1,__name:"PageHeader",props:{headline:{type:String,default:void 0},title:{type:String,default:void 0},description:{type:String,default:void 0},icon:{type:String,default:void 0},links:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(t){const r={wrapper:"relative border-b border-gray-200 dark:border-gray-800 py-8",container:"flex flex-col lg:flex-row lg:items-center lg:justify-between",headline:"mb-3 text-sm/6 font-semibold text-primary flex items-center gap-1.5",title:"text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white tracking-tight",description:"mt-4 text-lg text-gray-500 dark:text-gray-400",icon:{wrapper:"flex",base:"w-10 h-10 flex-shrink-0 text-primary"},links:"flex flex-wrap items-center gap-1.5 mt-4 lg:mt-0"},i=t,{ui:s,attrs:n}=U("page.header",y(i,"ui"),r,y(i,"class"),!0);return(o,a)=>{var u;const d=H,g=ee;return l(),p("div",C({class:e(s).wrapper},e(n)),[t.headline||o.$slots.headline?(l(),p("div",{key:0,class:c(e(s).headline)},[x(o.$slots,"headline",{},()=>[N(A(t.headline),1)])],2)):k("",!0),v("div",Ce,[t.icon||o.$slots.icon?(l(),p("div",{key:0,class:c(e(s).icon.wrapper)},[x(o.$slots,"icon",{},()=>[h(d,{name:t.icon,class:c(e(s).icon.base)},null,8,["name","class"])])],2)):k("",!0),v("div",Se,[v("div",{class:c(e(s).container)},[v("h1",{class:c(e(s).title)},[x(o.$slots,"title",{},()=>[N(A(t.title),1)])],2),(u=t.links)!=null&&u.length||o.$slots.links?(l(),p("div",{key:0,class:c(e(s).links)},[x(o.$slots,"links",{},()=>[(l(!0),p(Y,null,Z(t.links,(m,f)=>(l(),$(g,C({key:f},{...m,target:m.target||"_blank",color:m.color||"white"},{onClick:m.click}),null,16,["onClick"]))),128))])],2)):k("",!0)],2),t.description||o.$slots.description?(l(),p("p",{key:0,class:c(e(s).description)},[x(o.$slots,"description",{},()=>[N(A(t.description),1)])],2)):k("",!0),x(o.$slots,"default")])])],16)}}}),Oe=S({inheritAttrs:!1,__name:"LandingFAQ",props:{items:{type:Array,default:()=>[]},multiple:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(t){const r=R(),i=T(()=>({wrapper:"divide-y divide-gray-200 dark:divide-gray-800 -mt-6",container:"divide-y divide-gray-200 dark:divide-gray-800",item:{size:"text-base",padding:"py-6"},button:{base:"text-left text-lg py-6 w-full",label:"text-gray-900 dark:text-white",trailingIcon:{name:r.ui.icons.chevron,base:"w-5 h-5 ms-auto transform transition-transform duration-200 flex-shrink-0 mr-1.5",active:"",inactive:"-rotate-90"}}})),s=t,{ui:n,attrs:o}=U("landing.faq",y(s,"ui"),i,y(s,"class"),!0);return(a,d)=>{const g=H,u=ee,m=le;return l(),$(m,C({class:e(n).wrapper,items:t.items,multiple:t.multiple},e(o),{ui:{item:e(n).item,container:e(n).container}}),{default:w(({item:f,open:b})=>[h(u,{color:"gray",variant:"link",ui:{rounded:"rounded-none",color:{gray:{link:"hover:no-underline"}}},padded:!1,class:c(e(n).button.base)},{trailing:w(()=>[h(g,{name:e(n).button.trailingIcon.name,class:c([e(n).button.trailingIcon.base,b?e(n).button.trailingIcon.active:e(n).button.trailingIcon.inactive])},null,8,["name","class"])]),default:w(()=>[v("span",{class:c(e(n).button.label)},A(f.label),3)]),_:2},1032,["class"])]),item:w(f=>[x(a.$slots,"item",re(ie(f)))]),_:3},16,["class","items","multiple","ui"])}}}),Ie=S({inheritAttrs:!1,__name:"ContentSurroundLink",props:{link:{type:Object,required:!0},icon:{type:String,default:void 0},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(t){const r={wrapper:"block px-6 py-8 border not-prose rounded-lg border-gray-200 dark:border-gray-800 hover:bg-gray-100/50 dark:hover:bg-gray-800/50 group",icon:{wrapper:"inline-flex items-center rounded-full p-1.5 bg-gray-100 dark:bg-gray-800 group-hover:bg-primary/10 ring-1 ring-gray-300 dark:ring-gray-700 mb-4 group-hover:ring-primary/50",base:"w-5 h-5 text-gray-900 dark:text-white group-hover:text-primary"},title:"font-medium text-gray-900 dark:text-white text-[15px] mb-1",description:"text-sm font-normal text-gray-500 dark:text-gray-400 line-clamp-2"},i=t,{ui:s,attrs:n}=U("content.surround.link",y(i,"ui"),r,y(i,"class"),!0);return(o,a)=>{const d=H,g=ce;return l(),$(g,C({to:t.link._path,class:e(s).wrapper},e(n)),{default:w(()=>[t.icon||t.link.icon?(l(),p("div",{key:0,class:c(e(s).icon.wrapper)},[h(d,{name:t.icon||t.link.icon,class:c(e(s).icon.base)},null,8,["name","class"])],2)):k("",!0),v("p",{class:c(e(s).title)},A(t.link.title),3),v("p",{class:c(e(s).description)},A(t.link.description),3)]),_:1},16,["to","class"])}}}),je={key:1,class:"hidden sm:block"},Be=S({inheritAttrs:!1,__name:"ContentSurround",props:{surround:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(t){const r={wrapper:"grid gap-8 sm:grid-cols-2",icon:{prev:"i-heroicons-arrow-left-20-solid",next:"i-heroicons-arrow-right-20-solid"},link:{}},i=t,{ui:s,attrs:n}=U("content.surround",y(i,"ui"),r,y(i,"class"),!0),[o,a]=i.surround||[];return(d,g)=>{const u=Ie;return l(),p("div",C({class:e(s).wrapper},e(n)),[e(o)?(l(),$(u,{key:0,link:e(o),ui:e(s).link,icon:e(s).icon.prev},null,8,["link","ui","icon"])):(l(),p("span",je," ")),e(a)?(l(),$(u,{key:2,link:e(a),ui:e(s).link,icon:e(s).icon.next,class:"text-right"},null,8,["link","ui","icon"])):k("",!0)],16)}}}),Le=S({inheritAttrs:!1,__name:"PageBody",props:{prose:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(t){const r={wrapper:"mt-8 pb-24",prose:"prose prose-primary dark:prose-invert max-w-none"},i=t,{ui:s,attrs:n}=U("page.body",y(i,"ui"),r,y(i,"class"),!0);return(o,a)=>(l(),p("div",C({class:[e(s).wrapper,t.prose&&e(s).prose]},e(n)),[x(o.$slots,"default")],16))}}),qe=()=>{const t=P(),r=P([]),i=P([]),s=o=>{o.forEach(a=>{const d=a.target.id;a.isIntersecting?r.value=[...r.value,d]:r.value=r.value.filter(g=>g!==d)})},n=o=>{o.forEach(a=>{t.value&&t.value.observe(a)})};return ue(r,(o,a)=>{o.length===0?i.value=a:i.value=o}),de(()=>t.value=new IntersectionObserver(s)),pe(()=>{var o;return(o=t.value)==null?void 0:o.disconnect()}),{visibleHeadings:r,activeHeadings:i,updateHeadings:n}},Pe=["href","onClick"],te=S({inheritAttrs:!1,__name:"ContentTocLinks",props:{links:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},emits:["move"],setup(t,{emit:r}){const i={wrapper:"space-y-1",base:"block text-sm/6 truncate",active:"text-primary",inactive:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",depth:"ml-3"},s=t,n=r,o=ge(),a=fe(),{activeHeadings:d,updateHeadings:g}=qe(),{ui:u,attrs:m}=U("content.toc.links",y(s,"ui"),i,y(s,"class"),!0);a.hooks.hookOnce("page:finish",()=>{g([...document.querySelectorAll("h2"),...document.querySelectorAll("h3")])});const f=b=>{const O=encodeURIComponent(b);o.push(`#${O}`),n("move",b)};return(b,O)=>{var q;const L=te;return(q=t.links)!=null&&q.length?(l(),p("ul",C({key:0,class:e(u).wrapper},e(m)),[(l(!0),p(Y,null,Z(t.links,_=>(l(),p("li",{key:_.text,class:c([e(u).wrapper,_.depth===3&&e(u).depth])},[v("a",{href:`#${_.id}`,class:c([e(u).base,e(d).includes(_.id)?e(u).active:e(u).inactive]),onClick:me(E=>f(_.id),["prevent"])},A(_.text),11,Pe),_.children?(l(),$(L,{key:0,links:_.children},null,8,["links"])):k("",!0)],2))),128))],16)):k("",!0)}}}),Te=S({inheritAttrs:!1,__name:"ContentToc",props:{title:{type:String,default:"Table of Contents"},links:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(t){const r=R(),i=T(()=>({wrapper:"sticky top-[--header-height] bg-background/75 backdrop-blur -mx-4 sm:-mx-6 px-4 sm:px-6 lg:px-4 lg:-mx-4 overflow-y-auto max-h-[calc(100vh-var(--header-height))]",container:{base:"py-3 lg:py-8 border-b border-dashed border-gray-200 dark:border-gray-800 lg:border-0 space-y-3",empty:"lg:py-8 space-y-3"},button:{base:"flex items-center gap-1.5 lg:cursor-text lg:select-text w-full group",label:"font-semibold text-sm/6 truncate",trailingIcon:{name:r.ui.icons.chevron,base:"w-5 h-5 ms-auto transform transition-transform duration-200 flex-shrink-0 mr-1.5",active:"text-gray-700 dark:text-gray-200",inactive:"text-gray-500 dark:text-gray-400 group-hover:text-gray-700 dark:group-hover:text-gray-200 -rotate-90"}},links:{}})),s=t,{ui:n,attrs:o}=U("content.toc",y(s,"ui"),i,y(s,"class"),!0),a=P(!1);return(d,g)=>{var f,b;const u=H,m=te;return l(),p("nav",C({class:e(n).wrapper},e(o)),[v("div",{class:c([(f=t.links)!=null&&f.length?e(n).container.base:e(n).container.empty])},[x(d.$slots,"top"),(b=t.links)!=null&&b.length?(l(),p("button",{key:0,class:c(e(n).button.base),tabindex:"-1",onClick:g[0]||(g[0]=O=>a.value=!e(a))},[v("span",{class:c(e(n).button.label)},A(t.title),3),h(u,{name:e(n).button.trailingIcon.name,class:c(["lg:!hidden",[e(n).button.trailingIcon.base,e(a)?e(n).button.trailingIcon.active:e(n).button.trailingIcon.inactive]])},null,8,["name","class"])],2)):k("",!0),h(m,{links:t.links,ui:e(n).links,class:c([e(a)?"lg:block":"hidden lg:block"])},null,8,["links","ui","class"]),x(d.$slots,"bottom")],2)],16)}}}),He={key:2},Ve=S({__name:"[...slug]",async setup(t){let r,i;const s=ye(),{toc:n,seo:o}=R(),{data:a}=([r,i]=W(()=>G(s.path,()=>J(s.path).findOne(),"$aROEKgqrzL")),r=await r,i(),r);if(!a.value)throw be({statusCode:404,statusMessage:"Page not found",fatal:!0});const{data:d}=([r,i]=W(()=>G(`${s.path}-surround`,()=>J().where({_extension:"md",navigation:{$ne:!1}}).only(["title","description","_path"]).findSurround(_e(s.path)))),r=await r,i(),r);he({title:a.value.title,ogTitle:`${a.value.title} - ${o==null?void 0:o.siteName}`,description:a.value.description,ogDescription:a.value.description});const g=T(()=>ke(a.value)),u=T(()=>{var m,f,b;return[((m=n==null?void 0:n.bottom)==null?void 0:m.edit)&&{icon:"i-heroicons-pencil-square",label:"Modifier cette page",to:`${n.bottom.edit}/${(f=a==null?void 0:a.value)==null?void 0:f._file}`,target:"_blank"},...((b=n==null?void 0:n.bottom)==null?void 0:b.links)||[]].filter(Boolean)});return(m,f)=>{const b=Ue,O=we,L=xe,q=Oe,_=$e,E=Be,ne=Le,ae=Ae,se=Te,oe=ve;return l(),$(oe,null,X({default:w(()=>[h(b,{title:e(a).title,description:e(a).description,links:e(a).links,headline:e(g)},null,8,["title","description","links","headline"]),h(ne,{prose:""},{default:w(()=>{var I;return[e(a).body?(l(),$(O,{key:0,value:e(a)},null,8,["value"])):k("",!0),e(a).faq?(l(),$(_,{key:1},{default:w(()=>{var j,B;return[h(L,{label:((j=e(a).faq)==null?void 0:j.title)||"Questions Fréquentes"},null,8,["label"]),h(q,{items:(B=e(a).faq)==null?void 0:B.items,multiple:""},null,8,["items"])]}),_:1})):k("",!0),(I=e(d))!=null&&I.length?(l(),p("hr",He)):k("",!0),h(E,{surround:e(d)},null,8,["surround"])]}),_:1})]),_:2},[e(a).toc!==!1?{name:"right",fn:w(()=>{var I,j,B,M;return[h(se,{title:(I=e(n))==null?void 0:I.title,links:(B=(j=e(a).body)==null?void 0:j.toc)==null?void 0:B.links},X({_:2},[(M=e(n))!=null&&M.bottom?{name:"bottom",fn:w(()=>{var D,F,V,z,Q,K;return[v("div",{class:c(["hidden lg:block space-y-6",{"!mt-6":(V=(F=(D=e(a).body)==null?void 0:D.toc)==null?void 0:F.links)==null?void 0:V.length}])},[(K=(Q=(z=e(a).body)==null?void 0:z.toc)==null?void 0:Q.links)!=null&&K.length?(l(),$(L,{key:0,type:"dashed"})):k("",!0),h(ae,{title:e(n).bottom.title,links:e(u)},null,8,["title","links"])],2)]}),key:"0"}:void 0]),1032,["title","links"])]}),key:"0"}:void 0]),1024)}}});export{Ve as default};
