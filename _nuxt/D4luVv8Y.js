import P from"./CQzpIOFX.js";import{b0 as E,b1 as F,r as $,b2 as k,b3 as N,b4 as V,d as A,b5 as z,b6 as X,D as x,b7 as S,at as Y,b8 as R,ap as T,aq as L,b9 as q,ba as G,b as l,c as b,g as w,w as y,e as B,n as m,E as o,ai as C,ak as M,f as v,aj as _,j as U,t as j,aK as J,ab as K,p as W,i as H,l as Q,aO as Z,a_ as ee,F as te,ah as oe,ao as ae}from"./Cw2vRXY8.js";import{_ as ne}from"./CiKpGw-N.js";import{_ as re}from"./Bz-fSm_J.js";const se=E(F);function ie(a,e={}){const{x:r,y:s}=se(e),d=$(a??(window==null?void 0:window.document.body)),c=$(0),i=$(0);return k&&N([d,r,s],()=>{const f=V(d);if(!f)return;const{left:h,top:n}=f.getBoundingClientRect(),g=r.value-(h+k.scrollX),u=s.value-(n+k.scrollY);Math.abs(g)>1500||Math.abs(u)>1500||k.screen.width<=800||(c.value=g,i.value=u)},{immediate:!0,throttle:50}),{x:r,y:s,elementX:c,elementY:i}}const le=a=>(W("data-v-53db7729"),a=a(),H(),a),ce=le(()=>B("span",{class:"absolute inset-0","aria-hidden":"true"},null,-1)),de=A({inheritAttrs:!1,__name:"LandingCard",props:{...z,title:{type:String,default:void 0},description:{type:String,default:void 0},icon:{type:String,default:void 0},color:{type:String,default:"primary"},orientation:{type:String,default:"vertical"},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(a){X(t=>({fb9dae28:o(r),"674828e0":o(s)}));const e=a,r=x(()=>{var t;return e.color==="primary"?"rgb(var(--color-primary-DEFAULT))":((t=S[e.color])==null?void 0:t["500"])||S[e.color]||e.color}),s=x(()=>{var t;return e.color==="primary"?"rgb(var(--color-primary-DEFAULT))":((t=S[e.color])==null?void 0:t["400"])||S[e.color]||e.color}),d=x(()=>({wrapper:"relative group isolate rounded-xl background-gradient ring-1 ring-gray-200 dark:ring-gray-800 before:hidden before:lg:block before:absolute before:-inset-[2px] before:h-[calc(100%+4px)] before:w-[calc(100%+4px)] before:z-[-1] before:rounded-[13px] flex-1 flex flex-col shadow",to:"hover:ring-primary-500 dark:hover:ring-primary-400 transition-shadow duration-200",base:"flex-1 flex flex-col overflow-hidden",container:"",body:{base:Y("gap-x-8 gap-y-4 rounded-xl flex-1",e.orientation==="vertical"&&"flex flex-col",!!i.default&&e.orientation==="horizontal"&&"grid lg:grid-cols-2 lg:items-center")},background:"bg-white dark:bg-gray-900 hover:bg-opacity-90 dark:hover:bg-opacity-90 transition-[background-opacity]",ring:"",rounded:"rounded-xl",shadow:"",icon:{wrapper:"mb-2 pointer-events-none",base:"w-8 h-8 flex-shrink-0 text-gray-900 dark:text-white"},title:"text-gray-900 dark:text-white text-base font-bold truncate",description:"text-[15px] text-gray-500 dark:text-gray-400 mt-1"})),c=$(),i=R(),{elementX:f,elementY:h}=ie(c),{ui:n,attrs:g}=T("landing.card",L(e,"ui"),d,L(e,"class"),!0),u=x(()=>q(e)),p=x(()=>(e.title||i.title&&G(i.title())||"Card link").trim());return(t,me)=>{const D=J,I=K,O=ne;return l(),b("div",M({ref_key:"el",ref:c,style:{"--x":`${o(f)}px`,"--y":`${o(h)}px`},class:[o(n).wrapper,t.to&&o(n).to]},o(g)),[w(O,{ui:o(n)},{default:y(()=>[B("div",{class:m(o(n).container)},[t.to?(l(),C(D,M({key:0,"aria-label":o(p)},o(u),{class:"focus:outline-none",tabindex:"-1"}),{default:y(()=>[ce]),_:1},16,["aria-label"])):v("",!0),a.icon||t.$slots.icon?(l(),b("div",{key:1,class:m(o(n).icon.wrapper)},[_(t.$slots,"icon",{},()=>[w(I,{name:a.icon,class:m(o(n).icon.base)},null,8,["name","class"])],!0)],2)):v("",!0),a.title||t.$slots.title?(l(),b("p",{key:2,class:m(o(n).title)},[_(t.$slots,"title",{},()=>[U(j(a.title),1)],!0)],2)):v("",!0),a.description||t.$slots.description?(l(),b("p",{key:3,class:m(o(n).description)},[_(t.$slots,"description",{},()=>[U(j(a.description),1)],!0)],2)):v("",!0),_(t.$slots,"container",{},void 0,!0)],2),t.$slots.default?_(t.$slots,"default",{key:0},void 0,!0):v("",!0)]),_:3},8,["ui"])],16)}}}),ue=Q(de,[["__scopeId","data-v-53db7729"]]),pe=A({inheritAttrs:!1,__name:"LandingGrid",props:{class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(a){const e={wrapper:"flex flex-col lg:grid gap-8 lg:grid-cols-12 relative"},r=a,{ui:s,attrs:d}=T("landing.grid",L(r,"ui"),e,L(r,"class"),!0);return(c,i)=>(l(),b("div",M({class:o(s).wrapper},o(d)),[_(c.$slots,"default")],16))}}),fe={__name:"LastModifiedPages",async setup(a){let e,r;const{data:s}=([e,r]=Z(()=>ee("/api/mtime",{query:{limit:5}},"$T1s50s5lw4")),e=await e,r(),e);return(d,c)=>{const i=P,f=ue,h=pe,n=ae,g=re;return l(),C(g,{title:"DerniÃ¨res modifications"},{default:y(()=>[w(h,null,{default:y(()=>{var u;return[(l(!0),b(te,null,oe((u=o(s))==null?void 0:u.recentFiles,(p,t)=>(l(),C(f,{key:p,class:m("col-span-6 row-span-"+t),title:p.title,description:p.description,to:p.to},{icon:y(()=>[w(i,{date:p.updatedAt},null,8,["date"])]),_:2},1032,["class","title","description","to"]))),128))]}),_:1}),w(n,{class:"m-auto",to:"/news","trailing-icon":"i-heroicons-arrow-right-20-solid",variant:"ghost",color:"gray"},{default:y(()=>[U(" Toutes les modifications ")]),_:1})]),_:1})}}},ge=fe,xe=Object.freeze(Object.defineProperty({__proto__:null,default:ge},Symbol.toStringTag,{value:"Module"}));export{xe as L,pe as _,ge as a,ue as b};
