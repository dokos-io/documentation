---
title: Extraction de donn√©es
description: Application Dokos permettant d'extraire des donn√©es via OCR
---

::tabs
  :::div{icon="i-mdi-ev-plug-chademo" label="Fonctionnalit√©s"}
  ### Extraction des donn√©es factures fournisseur
  
  L'application d'OCR permet de fournir un PDF de facture fournisseur √† Textract, qui renvoie les informations sous forme structur√©es afin de g√©n√©rer une commande fournisseur ou une facture fournisseur.
  
    ::::mermaid
    ```text
    flowchart LR
      B[Banette de facture d'achat] --> D[Demande d'extraction de donn√©es]
      D --> C[Commande fournisseur]
      C --> F[Facture d'achat]
    ```
    ::::
  
  1. Les PDF sont d√©pos√©s dans une banette de facture d'achat
  2. Une banette permet ensuite de g√©n√©rer une demande d'extraction de donnn√©es par fichier
  3. Chaque PDF est envoy√© √† Amazon Textract poour en extraire les donn√©es sous un format structur√©
  4. Une fois l'analyse termin√©e, Dokos utilise les donn√©es pour trouver une commande fournisseur correspondante ou en cr√©er une nouvelle
  5. Une fois la commande fournisseur valid√©e, un facture d'achats est automatiquement cr√©√©e, pr√™te √† √™tre valid√©e
  
  ### Statuts des demandes d'extraction de donn√©es
  
  Les demandes d'extraction changent de statut en fonction de leur √©tat:
  
    ::::mermaid
    ```text
    flowchart LR
      A[En attente] --> B[Analyse Termin√©e]
      B --> C[Commande fournisseur cr√©√©e]
      C --> D[Facture d'achats cr√©√©e]
      D --> E[Termin√©]
    ```
    ::::
  :::

  :::div{icon="i-mdi-ev-plug-chademo" label="Installation"}
  ## Application d'OCR
  
  Dokos dispose d'une application permettant l'extraction des donn√©es de factures d'achat gr√¢ce √† une int√©gration avec [Amazon Textract](https://aws.amazon.com/fr/textract/)
  
  L'installation de cette application est facultative.
  
    ::::callout
    Afin d'avoir ces fonctionnalit√©s sur votre site Dokos, veuillez installer l'application [OCR](https://gitlab.com/dokos/ocr)\:br
    Si vous √™tes client Dokos Cloud, vous pouvez faire une demande d'installation √† l'adresse [](){mailto="help@dokos.cloud"}<help@dokos.cloud>
    ::::
  
  ## Espace de travail
  
  L'installation de cette application ajoute un nouvel espace de travail _Extraction de donn√©es_ sous l'espace de travail **Achats**.
  :::

  :::div{icon="i-mdi-checkbox-multiple-marked-outline" label="Param√©trage"}
  ## Int√©gration avec Amazon Textract
  
  üöß R√©daction en cours üöß
  
  ## Param√©trage de Dokos
  
  Le formulaire **Param√®tres d'OCR** permet de configurer deux types d'√©l√©ments:
  
  1. Les cl√©s de connexion obtenues sur AWS Textract
  2. Les param√®tres de cr√©ation de commande/facture
  
  ### Mode de cr√©ation des commandes
  
  Vous disposez de trois modes de cr√©ation des commandes au choix:
  
  1. Obtenir les articles des commandes fournisseurs reconnues par l'OCR
     Le cas √©ch√©ant, l'application cherche la commande fournisseur pr√©sentes dans Dokos qui ont le num√©ro de bon de commande reconnu par l'OCR. S'il trouve une commande correspondante, il l'associe avec la demande d'extraction de donn√©es.
  2. Obtenir les articles de la premi√®re commande fournisseur li√©e avec le fournisseur
     L'application cherche dans Dokos une commande fournisseur ouverte et li√©e avec le fournisseur d√©tect√© par l'OCR. S'il en trouve une, il l'associe avec la demande d'extraction de donn√©es.
  3. Consolider les lignes en une seule ligne de facturation
     Dans ce cas de figure, l'application d'extraction de donn√©es, ne cherche pas de commande fournisseur existante, mais en cr√©e syst√©matiquement une nouvelle en consolidant toutes les lignes en une ligne d'achats globale.\:br
     Dans ce cas, il est possible de s√©lectionner un article g√©n√©rique qui sera utilis√© pour la facturation globale.
  
  ### Cr√©ation automatique de commande fournisseur
  
  Si l'une des deux options est s√©lectionn√©e, il est possible d'indiquer √† l'application de cr√©er automatiquement un brouillon de commande fournisseur si aucune correspondance n'est trouv√©e avec une commande d√©j√† existante:
  
  - Obtenir les articles des commandes fournisseurs reconnues par l'OCR
  - Obtenir les articles de la premi√®re commande fournisseur li√©e avec le fournisseur
  
  ### Factures d'achat
  
  Par d√©faut, √† la validation de la commande fournisseur, une facture fournisseur est automatiquement cr√©√©e en brouillon.\:br
  Il est possible de d√©sactiver cette fonctionnalit√©.
  
  Une autre option permet √† l'inverse, d'indiquer √† l'application de valider automatiquement les factures fournisseur qui sont cr√©√©es √† partir de commandes fournisseur li√©es √† l'OCR.
  
  ## G√©n√©ration automatique de banette de factures d'achats
  
  Vous pouvez d√©clencher la cr√©ation automatique de banettes de factures d'achat pour tout email envoy√© √† une adresse email pr√©-d√©finie.
  
  Pour cela, ajoutez un compte email dans Dokos, puis dans la section **D√©tails IMAP**, indiquez √† Dokos de cr√©er une nouvelle banette de factures d'achat pour tous les emails dans l'INBOX de la bo√Æte email:
  
  | Nom du dossier | Ajouter √†                     |
  | -------------- | ----------------------------- |
  | INBOX          | Bannette de factures d'achats |
  :::
::
