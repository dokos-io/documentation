# Commandes

::hero-announcement
---
label: "Dokos CLI est un adaptation de la ligne de commande Frappe Bench"
to: https://github.com/frappe/bench
---
::

## Dokos CLI

Dokos CLI est une ligne de commande permettant de gérer ses dossiers (appelés *bench*), ses sites et ses applications.

### Commandes incluses dans Dokos CLI

Pour voir la liste des commandes à jour, vous pouvez lancer `bench --help` depuis votre dossier *bench*.  
Pour accéder aux options de chacune des commandes ci-dessous, saisissez `bench {commande} --help`.

|Commande|Description|Usage|
|---|---|---|
|backup-all-sites|Lancement d'une sauvegarde de tous les sites dans un *bench*|:pill{type="success" description="Fréquent"}|
|config|Modification de la configuration du *bench*|:pill{type="success" description="Fréquent"}|
|disable-production|Désactivation de l'environnement de production (ou mode de production) pour ce *bench*|:pill{type="success" description="Fréquent"}|
|download-translations|Téléchargement des dernières traductions|:pill{description="Jamais"}|
|drop|Sauvegarde et suppression d'un dossier bench|:pill{type="success" description="Fréquent"}|
|exclude-app|Exclusion une application des mises à jour|:pill{type="success" description="Fréquent"}|
|find|Recherche récursive pour trouver un dossier `bench`|:pill{type="warning" description="Rare"}|
|get|Alias pour `get-app`|:pill{type="success" description="Fréquent"}|
|get-app|Permet de cloner et installer une application depuis un répertoire git distant ou local|:pill{type="success" description="Fréquent"}|
|include-app|Inclus l'application dans la liste des applications à mettre à jour|:pill{type="success" description="Fréquent"}|
|init|Initialise un nouveau dossier `bench`|:pill{type="success" description="Fréquent"}|
|install|*Installation des dépendances système*|:pill{description="Obsolète"}|
|migrate-env|Migration de l'environnement virtuel python vers une nouvelle version|:pill{type="success" description="Fréquent"}|
|new-app|Création d'une nouvelle application sur Dodock|:pill{type="success" description="Fréquent"}|
|pip|Utilisation de la version de pip de l'environnement virtuel. Utilisez `bench pip --help` pour en savoir plus.|:pill{type="success" description="Fréquent"}|
|release|Publication d'une nouvelle version d'une application - Interne à l'équipe Dokos|:pill{type="success" description="Fréquent"}|
|remote-reset-url|Réinitialise les adresses distantes des applications Dodock et Dokos|:pill{type="success" description="Fréquent"}|
|remote-set-url|Alias pour `git remote set-url upstream {URL}`. Trouve l'application à mettre à jour grâce à l'URL|:pill{type="success" description="Fréquent"}|
|remote-urls|Affiche les URL des répertoires distants des applications installées|:pill{type="success" description="Fréquent"}|
|remove|Alias pour `remove-app`|:pill{type="success" description="Fréquent"}|
|remove-app|Supprime une application du `bench`|:pill{type="success" description="Fréquent"}|
|renew-lets-encrypt|Renouvelle les certificats Let's Encrypt et crée une entrée CRON|:pill{type="success" description="Fréquent"}|
|restart|Redémarre les processus Supervisor ou Systemd|:pill{type="success" description="Fréquent"}|
|retry-upgrade|Relance une mise à jour tombée en erreur|:pill{type="success" description="Fréquent"}|
|rm|Alias pour `remove-app`|:pill{type="success" description="Fréquent"}|
|set-mariadb-host|Configuration d'un hôte MariaDB pour ce `bench`|:pill{type="success" description="Fréquent"}|
|set-nginx-port|Configuration d'un port associé à Nginx pour un site|:pill{type="success" description="Fréquent"}|
|set-redis-cache-host|Configuration d'un hôte Redis Cache pour ce `bench`|:pill{type="success" description="Fréquent"}|
|set-redis-queue-host|Configuration d'un hôte Redis Queue pour ce `bench`|:pill{type="success" description="Fréquent"}|
|set-redis-socketio-host|Configuration d'un hôte Redis SocketIO pour ce `bench`|:pill{type="success" description="Fréquent"}|
|set-ssl-certificate|Configuration d'un chemin vers un certificat SSL pour un site|:pill{type="success" description="Fréquent"}|
|set-ssl-key|Configuration d'un chemin vers la clé privée d'un certificat SSL pour un site|:pill{type="success" description="Fréquent"}|
|set-url-root|Configuration d'une URL de base pour un site|:pill{type="success" description="Fréquent"}|
|setup|Groupe de commandes pour configurer son `bench`. Utilisez `bench setup --help` pour en savoir plus.|:pill{type="success" description="Fréquent"}|
|src|Impression du chemin vers le code source installé de Dokos CLI|:pill{type="success" description="Fréquent"}|
|start|Démarrage du mode `développeur` de Dodock|:pill{type="success" description="Fréquent"}|
|switch-to-branch|Basculement des applications indiquées vers la branche voulue|:pill{type="success" description="Fréquent"}|
|switch-to-develop|Basculement des applications indiquées vers la branche `develop`|:pill{type="success" description="Fréquent"}|
|update|Lancement d'une opération de mise à jour|:pill{type="success" description="Fréquent"}|


### Commandes incluses dans le framework Dodock

|Commande|Description|Usage|
|---|---|---|
|add-system-manager|Ajoute un nouveau responsable système|:pill{type="success" description="Fréquent"}|
|add-to-email-queue|Ajoute un email dans un fichier local au journal des emails|:pill{type="success" description="Fréquent"}|
|add-to-hosts|Ajoute le site dans le fichier `/etc/hosts`|:pill{type="success" description="Fréquent"}|
|add-user|Ajoute un utilisateur|:pill{type="success" description="Fréquent"}|
|backup|Lance une sauvegarde locale|:pill{type="success" description="Fréquent"}|
|browse|Ouvre le site dans le navigateur|:pill{type="success" description="Fréquent"}|
|build|Compile et minifie les fichiers JS et CSS|:pill{type="success" description="Fréquent"}|
|build-message-files|Build message files for translation|:pill{description="Jamais"}|
|build-search-index|Construit les index de recherche|:pill{type="success" description="Fréquent"}|
|bulk-rename|Renomme des documents via un fichier csv|:pill{type="success" description="Fréquent"}|
|cleanup-translations|Nettoye les fichiers de traduction|:pill{description="Jamais"}|
|clear-cache|Vide le cache du site|:pill{type="success" description="Fréquent"}|
|clear-log-table|Vide la table de log|:pill{type="success" description="Fréquent"}|
|clear-website-cache|Vide le cache du site web|:pill{type="success" description="Fréquent"}|
|console|Lance une console iPython|:pill{type="success" description="Fréquent"}|
|create-rq-users|Crée des utilisateurs RQ|:pill{type="success" description="Fréquent"}|
|data-import|Importe des données depuis des fichiers CSV|:pill{type="success" description="Fréquent"}|
|db-console|Ouvre une console de base de données|:pill{type="success" description="Fréquent"}|
|destroy-all-sessions|Déconnecte tous les utilisateurs|:pill{type="success" description="Fréquent"}|
|disable-scheduler|Désactive le planificateur|:pill{type="success" description="Fréquent"}|
|disable-user|Désactive un utilisateur|:pill{type="success" description="Fréquent"}|
|doctor|Affiche un diagnostic des tâches de fond|:pill{type="success" description="Fréquent"}|
|drop-site|Supprime le site et sa base de données|:pill{type="success" description="Fréquent"}|
|enable-scheduler|Active le planificateur|:pill{type="success" description="Fréquent"}|
|execute|Exécute une fonction|:pill{type="success" description="Fréquent"}|
|export-csv|Exporte des données en CSV|:pill{type="success" description="Fréquent"}|
|export-doc|Exporte les données d'un document en CSV|:pill{type="success" description="Fréquent"}|
|export-fixtures|Exporte les données spécifiées dans le fichier _hooks_ > _fixtures_ dans un dossier _fixtures_|:pill{type="success" description="Fréquent"}|
|export-json|Exporte des données en JSON|:pill{type="success" description="Fréquent"}|
|get-untranslated|Exporte les chaînes de caractères non traduites|:pill{type="success" description="Fréquent"}|
|import-doc|Importe un document enregistré dans un fichier JSON|:pill{type="success" description="Fréquent"}|
|install-app|Installe une application sur un site|:pill{type="success" description="Fréquent"}|
|jupyter|Ouvre un [Notebook Jupyter](https://jupyter.org/)|:pill{type="success" description="Fréquent"}|
|list-apps|Liste les applications installées sur un site|:pill{type="success" description="Fréquent"}|
|make-app|Crée la structure d'une nouvelle application|:pill{type="success" description="Fréquent"}|
|mariadb|Ouvre une console mariadb|:pill{type="success" description="Fréquent"}|
|new-language|Crée un nouveau fichier de traduction pour une langue donnée|:pill{type="success" description="Fréquent"}|
|new-site|Crée un nouveau site|:pill{type="success" description="Fréquent"}|
|ngrok|Crée un nouveau tunnel ngrok|:pill{type="success" description="Fréquent"}|
|ngrok-webhook|Lance une migration de base de données|:pill{type="success" description="Fréquent"}|
|partial-restore|Lance une restoration partielle|:pill{type="success" description="Fréquent"}|
|postgres|Lance une console postgres|:pill{type="success" description="Fréquent"}|
|publish-realtime|Publie des événements en temps réel sur le site|:pill{type="success" description="Fréquent"}|
|purge-jobs|Supprime les tâches de fond programmées en file d'attente|:pill{type="success" description="Fréquent"}|
|ready-for-migration|Vérifie si le site est prêt pour la migration|:pill{type="success" description="Fréquent"}|
|rebuild-global-search|Lance la construction des index de recherche globale|:pill{type="success" description="Fréquent"}|
|reinstall|Réinstalle un site|:pill{type="success" description="Fréquent"}|
|reload-doc|Synchronise le schéma d'un type de document|:pill{type="success" description="Fréquent"}|
|reload-doctype|Synchronise le schéma d'un type de document|:pill{type="success" description="Fréquent"}|
|remove-from-installed-apps|Supprime une application de la liste des applications installées|:pill{type="success" description="Fréquent"}|
|reload-doctype|Synchronise le schéma d'un type de document|:pill{type="success" description="Fréquent"}|
|request|Lance une requête en temps qu'Administrateur|:pill{type="success" description="Fréquent"}|
|reset-perms|Réinitialise les autorisations standard pour tous les types de documents|:pill{type="success" description="Fréquent"}|
|restore|Restaure la base de données avec une sauvegarde|:pill{type="success" description="Fréquent"}|
|run-parallel-tests|Lance les tests en parallèle|:pill{type="success" description="Fréquent"}|
|run-patch|Lance un patch de migration|:pill{type="success" description="Fréquent"}|
|run-tests|Lance les tests Python|:pill{type="success" description="Fréquent"}|
|run-ui-tests|Lance les tests Cypress|:pill{type="success" description="Fréquent"}|
|schedule|Lance le planificateur|:pill{type="success" description="Fréquent"}|
|scheduler|Permet de changer l'état du planificateur|:pill{type="success" description="Fréquent"}|
|request|Lance une requête en temps qu'Administrateur|:pill{type="success" description="Fréquent"}|
|serve|Lance un serveur de développement|:pill{type="success" description="Fréquent"}|
|set-admin-password|Défini un mot de passe administrateur|:pill{type="success" description="Fréquent"}|
|set-config|Mets à jour le fichier `site_config.json`|:pill{type="success" description="Fréquent"}|
|set-last-active-for-user|Modifie la date de dernière activité d'un utilisateur|:pill{type="success" description="Fréquent"}|
|set-maintenance-mode|Mets le site en mode maintenance|:pill{type="success" description="Fréquent"}|
|set-password|Modifie le mot de passe d'un utilisateur|:pill{type="success" description="Fréquent"}|
|show-config|Imprime les variables d'environnement du site|:pill{type="success" description="Fréquent"}|
|show-pending-jobs|Affiche les tâches de fond en attente|:pill{type="success" description="Fréquent"}|
|start-recording|Lance l'enregistrement des requêtes en base des données|:pill{type="success" description="Fréquent"}|
|stop-recording|Arrête l'enregistrement des requêtes en base des données|:pill{type="success" description="Fréquent"}|
|transform-database|Permet de modifier les paramètres internes des tables en modifiant le format de ligne et le moteur|:pill{type="success" description="Fréquent"}|
|trigger-scheduler-event|Déclenche une tâche de fond programmé|:pill{type="success" description="Fréquent"}|
|trim-database|Nettoye la base de données|:pill{type="success" description="Fréquent"}|
|trim-tables|Nettoye les tables indiquées|:pill{type="success" description="Fréquent"}|
|uninstall-app|Désinstalle l'application du site|:pill{type="success" description="Fréquent"}|
|update-translations|Met à jour le fichier de traduction à partir d'un fichier CSV|:pill{type="success" description="Fréquent"}|
|use|Défini le site par défaut|:pill{type="success" description="Fréquent"}|
|version|Affiche les versions de toutes les applications installées|:pill{type="success" description="Fréquent"}|
|watch|Recompile automatiquement les fichiers JS et CSS en cas de modification|:pill{type="success" description="Fréquent"}|
|worker|Lance un nouveau worker|:pill{type="success" description="Fréquent"}|