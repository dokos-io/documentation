{"_path":"/dokos/cas-usage/email-sent","_dir":"cas-usage","_draft":false,"_partial":false,"_locale":"fr","title":"Ajouter un champ -- Statut envoi d'email","description":"Dans cas d'usage, nous allons voir comment afficher un champ qui va indiquer si un email a été envoyé à votre contact.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"suivi-envoi-demail"},"children":[{"type":"text","value":"Suivi envoi d'email"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Dans cas d'usage, nous allons voir comment afficher un champ qui va indiquer si un email a été envoyé à votre contact."}]},{"type":"element","tag":"h4","props":{"id":"explication-du-cas"},"children":[{"type":"text","value":"Explication du Cas :"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"L'objectif est de savoir si le document a bien été envoyé à votre contact quand vous allez sur un document comme une commande client ou une facture de vente."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Lors de la création d'une commande client :"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Si vous cochez la case "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Envoyé un email automatiquement"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Alors dès que cette case est cochée"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Et que le document Commande client est "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Validé"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Un email est envoyé automatiquement."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Puis, une fois que l'email est envoyé, le champ "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Statut Email"}]},{"type":"text","value":" est modifié avec la valeur "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Envoyé"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"flux_email.png","src":"/content/use-cases/flux_email.png"},"children":[]}]},{"type":"element","tag":"h3","props":{"id":"étape-1"},"children":[{"type":"text","value":"Étape 1"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Pour débuter il faut ajouter des nouveaux champs à votre document. Nous allons ajouter une nouvelle section pour la séparer des autres sections et ajouter deux champs qui seront :"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Email envoyé automatiquement"}]},{"type":"text","value":" : Avec une case à cocher."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Statut Email envoyé"}]},{"type":"text","value":" : En choisissant manuellement envoyé ou non envoyé. Et pour automatiser cela, nous allons configurer une automation pour mettre la valeur Envoyé."}]}]},{"type":"element","tag":"h3","props":{"id":"étape-2"},"children":[{"type":"text","value":"Étape 2"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Par la suite, pour automatiser l'action de l'envoi de l'email et du changement de la valeur pour le champ "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Statut Email envoyé"}]},{"type":"text","value":", nous allons créer une notification."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"section-email.png","src":"/content/use-cases/section-email.png"},"children":[]}]},{"type":"element","tag":"h2","props":{"id":"_1-ajouter-des-champs-personnalisés"},"children":[{"type":"text","value":"1. Ajouter des champs personnalisés"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nous allons ajouter deux champs qui seront utilisés :"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Un champ de saut de section"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Email envoyé automatiquement : Oui ou non"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Email Statut : Pas envoyé ou Envoyé"}]}]},{"type":"element","tag":"h3","props":{"id":"_11-ajouter-un-premier-champ-email-envoyé-automatiquement"},"children":[{"type":"text","value":"1.1 Ajouter un premier champ : Email envoyé automatiquement"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Tout d'abord, il faut ajouter sur le type de document Commande client / Facture de vente le champ "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Envoyé un email automatiquement"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Nous allons voir ce cas pour le type de document : Commande client"}]}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Allez sur le document "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Commande client"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Cliquez sur les 3 petits points en haut."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Faites "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Personnaliser"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"commande-client.png","src":"/content/use-cases/commande-client.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Vous allez arriver sur le document Personnalisation du formulaire pour le document Commande de vente"}]}]},{"type":"element","tag":"ol","props":{"start":4},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Allez dans la section Champs, puis en bas faites "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Ajouter une ligne"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"ajouter-nouvelle-ligne.png","src":"/content/use-cases/ajouter-nouvelle-ligne.png"},"children":[]}]},{"type":"element","tag":"callout","props":{"color":"amber","icon":"i-heroicons-exclamation-triangle"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Avant cela, ajoutez un champ "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Saut de section"}]},{"type":"text","value":", cela vous permettra d'avoir une section indépendante - Déplacez ce champ à la ligne 17."}]}]},{"type":"element","tag":"ol","props":{"start":5},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Renseignez la ligne des champs comme suit :"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Indiquez dans "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Libellé"}]},{"type":"text","value":" : Envoyé un email automatiquement"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Indiquez dans "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Type"}]},{"type":"text","value":" : Vérifier"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Dans "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Nom"}]},{"type":"text","value":" : Il sera mis automatiquement à l'enregistrement"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Faites "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Modifier"}]},{"type":"text","value":", tout à droit de la ligne du nouveau champ."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Déplacez ce champ où vous souhaitez le faire apparaître dans le document par exemple à la ligne 18."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"deplace.png","src":"/content/use-cases/deplace.png"},"children":[]}]},{"type":"element","tag":"h3","props":{"id":"_12-ajouter-un-second-champ-statut-email"},"children":[{"type":"text","value":"1.2 Ajouter un second champ : Statut Email"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Tout d'abord, il faut ajouter un nouveau champ qui permettra de savoir si l'email a bien été envoyé avec les options (Pas envoyé, Envoyé)."}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Allez dans la section Champs, puis en bas faites "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Ajouter une ligne"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Renseignez la ligne des champs comme suit :\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Indiquez dans "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Libellé"}]},{"type":"text","value":" : Email Statut"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Indiquez dans "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Type"}]},{"type":"text","value":" : Sélectionner"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Dans "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Nom"}]},{"type":"text","value":" : Il sera mis automatiquement à l'enregistrement"}]}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Indiquez dans "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Option"}]},{"type":"text","value":" : Pas envoyé, Envoyé en sautant des lignes pour chaque option."}]}]},{"type":"element","tag":"ol","props":{"start":3},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Faites "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Modifier"}]},{"type":"text","value":", tout à droit de la ligne du nouveau champ."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Dans la section "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Autorisation"}]},{"type":"text","value":", coché la case "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Autoriser les modifications après validation"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"modification.png","src":"/content/use-cases/modification.png"},"children":[]}]},{"type":"element","tag":"ol","props":{"start":5},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Déplacez ce champ où vous souhaitez le faire apparaître dans le document par exemple à la ligne 19."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Voici les champs que vous obtenez à la fin."}]},{"type":"element","tag":"img","props":{"alt":"section.png","src":"/content/use-cases/section.png"},"children":[]}]},{"type":"element","tag":"h2","props":{"id":"_2-créer-une-notification-et-modification-dun-champ-automatiquement"},"children":[{"type":"text","value":"2. Créer une notification et modification d'un champ automatiquement"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Il faut créer une nouvelle notification qui sera exécutée dès que le champ \""},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Envoyé un email automatiquement"}]},{"type":"text","value":"\" est coché sur votre "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"commande/facture"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Pour ce faire, il faut :"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Allez dans le document "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Notification"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Ajoutez une notification"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Indiquez un nom d'usage"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Sélectionnez le canal Email"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"detail.png","src":"/content/use-cases/detail.png"},"children":[]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"br","props":{},"children":[]}]},{"type":"element","tag":"h3","props":{"id":"_21-section-filtre"},"children":[{"type":"text","value":"2.1 Section Filtre"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Sujet"}]},{"type":"text","value":" : Il s'agit du nom de l'objet qui sera envoyé au client"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Type de document"}]},{"type":"text","value":": Sélectionnez Commande client"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Envoyer une alerte lors de l'événement"}]},{"type":"text","value":" : Valider"}]}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"h3","props":{"id":"_22-section-condition"},"children":[{"type":"text","value":"2.2 Section Condition"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Condition"}]},{"type":"text","value":" : Indiquez "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"doc.{nom_du_champ}"}]},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Le nom du champ correspond au champ "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Email envoyé automatiquement"}]},{"type":"text","value":" dans le document Commande client. Cela signifie que si ce champ est coché, alors la notification sera exécutée dès que la cas est coché et à la validation du document"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"condition.png","src":"/content/use-cases/condition.png"},"children":[]},{"type":"element","tag":"br","props":{},"children":[]}]},{"type":"element","tag":"h3","props":{"id":"_23-section-modifier-une-propriété-après-la-notification"},"children":[{"type":"text","value":"2.3 Section Modifier une propriété après la notification"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Modifier une propriété après la notification"}]},{"type":"text","value":" : Sélectionnez le champ "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Staut Email"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Valeur à définir"}]},{"type":"text","value":" : Indiquez "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Envoyé"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"modifie_propriete.png","src":"/content/use-cases/modifie_propriete.png"},"children":[]},{"type":"element","tag":"br","props":{},"children":[]}]},{"type":"element","tag":"h3","props":{"id":"_24-section-destinataires"},"children":[{"type":"text","value":"2.4 Section Destinataires"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Ajoutez une nouvelle ligne"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Destinataire par champ de document : Sélectionnez "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"contact_email"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"destinataire.png","src":"/content/use-cases/destinataire.png"},"children":[]},{"type":"element","tag":"br","props":{},"children":[]}]},{"type":"element","tag":"h3","props":{"id":"_25-section-message"},"children":[{"type":"text","value":"2.5 Section Message"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Indiquez le contenu de l'email qui sera envoyé au client.\n"},{"type":"element","tag":"br","props":{},"children":[]}]}]},{"type":"element","tag":"h3","props":{"id":"_26-impressions"},"children":[{"type":"text","value":"2.6 Impressions"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Joindre une impression de document : Cochez cette case pour que votre document soit envoyé en pièce jointe dans l'email."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Faites Enregistrer"}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"étape-1","depth":3,"text":"Étape 1"},{"id":"étape-2","depth":3,"text":"Étape 2"},{"id":"_1-ajouter-des-champs-personnalisés","depth":2,"text":"1. Ajouter des champs personnalisés","children":[{"id":"_11-ajouter-un-premier-champ-email-envoyé-automatiquement","depth":3,"text":"1.1 Ajouter un premier champ : Email envoyé automatiquement"},{"id":"_12-ajouter-un-second-champ-statut-email","depth":3,"text":"1.2 Ajouter un second champ : Statut Email"}]},{"id":"_2-créer-une-notification-et-modification-dun-champ-automatiquement","depth":2,"text":"2. Créer une notification et modification d'un champ automatiquement","children":[{"id":"_21-section-filtre","depth":3,"text":"2.1 Section Filtre"},{"id":"_22-section-condition","depth":3,"text":"2.2 Section Condition"},{"id":"_23-section-modifier-une-propriété-après-la-notification","depth":3,"text":"2.3 Section Modifier une propriété après la notification"},{"id":"_24-section-destinataires","depth":3,"text":"2.4 Section Destinataires"},{"id":"_25-section-message","depth":3,"text":"2.5 Section Message"},{"id":"_26-impressions","depth":3,"text":"2.6 Impressions"}]}]}},"_type":"markdown","_id":"content:1.dokos:17.cas-usage:email-sent.md","_source":"content","_file":"1.dokos/17.cas-usage/email-sent.md","_extension":"md"}