{"_path":"/integrations/extraction-donnees","_dir":{"_path":"/integrations/extraction-donnees/_dir","title":"Extraction de données","icon":"i-mdi-ocr"},"_draft":false,"_partial":false,"_locale":"fr","title":"Extraction de données","description":"Application Dokos permettant d'extraire des données via OCR","body":{"type":"root","children":[{"type":"element","tag":"tabs","props":{},"children":[{"type":"element","tag":"div","props":{"icon":"i-mdi-ev-plug-chademo","label":"Fonctionnalités"},"children":[{"type":"element","tag":"h3","props":{"id":"extraction-des-données-factures-fournisseur"},"children":[{"type":"text","value":"Extraction des données factures fournisseur"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"L'application d'OCR permet de fournir un PDF de facture fournisseur à Textract, qui renvoie les informations sous forme structurées afin de générer une commande fournisseur ou une facture fournisseur."}]},{"type":"element","tag":"mermaid","props":{},"children":[{"type":"element","tag":"pre","props":{"className":"language-text shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","code":"flowchart LR\n  B[Banette de facture d'achat] --> D[Demande d'extraction de données]\n  D --> E[Facture d'achat en attente]\n  E --> C[Commande fournisseur]\n  E --> G[Reçu d'achat]\n  C --> F[Facture d'achat]\n  G --> F[Facture d'achat]\n  E --> F[Facture d'achat]\n","language":"text","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"flowchart LR\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  B[Banette de facture d'achat] --> D[Demande d'extraction de données]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  D --> E[Facture d'achat en attente]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  E --> C[Commande fournisseur]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  E --> G[Reçu d'achat]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  C --> F[Facture d'achat]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  G --> F[Facture d'achat]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  E --> F[Facture d'achat]\n"}]}]}]}]}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Les PDF sont déposés dans une banette de facture d'achat"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Une banette permet ensuite de générer une demande d'extraction de donnnées par fichier"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Chaque PDF est envoyé à Amazon Textract poour en extraire les données sous un format structuré"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Une fois l'analyse terminée, Dokos crée une facture d'achats en attente.\nIl utilise les données pour trouver une commande fournisseur ou un reçu d'achat correspondant à cette facture en attente."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Depuis la facture en attente, l'utilisateur peut créer une nouvelle commande fournisseur ou directement une facture d'achat selon les options choisies dans les paramètres d'OCR"}]}]},{"type":"element","tag":"h3","props":{"id":"statuts-des-facture-dachat-en-attente"},"children":[{"type":"text","value":"Statuts des facture d'achat en attente"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Les facture d'achat en attente changent de statut en fonction de leur état:"}]},{"type":"element","tag":"mermaid","props":{},"children":[{"type":"element","tag":"pre","props":{"className":"language-text shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","code":"flowchart TD\n  A[\"En attente (Aucune commande/reçu d'achat associés)\"] --> B[\"En cours(Document associé à une commande/reçu d'achat)\"]\n  B --> C[\"Prêt (Toutes les commandes/reçus d'achat associés sont validés)\"]\n  C --> D[\"Terminé (Les factures d'achat sont créées et validées)\"]\n  A --> E[\"Fermé (Le document a été fermé et ne sera pas traité)\"]\n","language":"text","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"flowchart TD\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  A[\"En attente (Aucune commande/reçu d'achat associés)\"] --> B[\"En cours(Document associé à une commande/reçu d'achat)\"]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  B --> C[\"Prêt (Toutes les commandes/reçus d'achat associés sont validés)\"]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  C --> D[\"Terminé (Les factures d'achat sont créées et validées)\"]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  A --> E[\"Fermé (Le document a été fermé et ne sera pas traité)\"]\n"}]}]}]}]}]}]},{"type":"element","tag":"div","props":{"icon":"i-mdi-ev-plug-chademo","label":"Installation"},"children":[{"type":"element","tag":"h2","props":{"id":"application-docr"},"children":[{"type":"text","value":"Application d'OCR"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Dokos dispose d'une application permettant l'extraction des données de factures d'achat grâce à une intégration avec "},{"type":"element","tag":"a","props":{"href":"https://aws.amazon.com/fr/textract/","rel":["nofollow"]},"children":[{"type":"text","value":"Amazon Textract"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"L'installation de cette application est facultative."}]},{"type":"element","tag":"callout","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Afin d'avoir ces fonctionnalités sur votre site Dokos, veuillez installer l'application "},{"type":"element","tag":"a","props":{"href":"https://gitlab.com/dokos/ocr","rel":["nofollow"]},"children":[{"type":"text","value":"OCR"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nSi vous êtes client Dokos Cloud, vous pouvez faire une demande d'installation à l'adresse "},{"type":"element","tag":"a","props":{"href":"","mailto":"help@dokos.cloud"},"children":[]},{"type":"element","tag":"a","props":{"href":"mailto:help@dokos.cloud"},"children":[{"type":"text","value":"help@dokos.cloud"}]}]}]},{"type":"element","tag":"h2","props":{"id":"espace-de-travail"},"children":[{"type":"text","value":"Espace de travail"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"L'installation de cette application ajoute un nouvel espace de travail "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Extraction de données"}]},{"type":"text","value":" sous l'espace de travail "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Achats"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"div","props":{"icon":"i-mdi-checkbox-multiple-marked-outline","label":"Paramétrage"},"children":[{"type":"element","tag":"h2","props":{"id":"intégration-avec-amazon-textract"},"children":[{"type":"text","value":"Intégration avec Amazon Textract"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Pour connecter Dokos et Amazon Textract, vous devez créer un compte AWS et créer un utilisateur IAM avec, a minima, les politiques d'autorisations suivantes:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Accès à Amazon Textract\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Lecture:\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"AnalyzeDocument"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"AnalyzeExpense"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"GetDocumentAnalysis"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"GetExpenseAnalysis"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"GetDocumentTextDetection"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Ecriture:\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"StartDocumentAnalysis"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"StartExpenseAnalysis"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"StartDocumentTextDetection"}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Accès à Amazon S3\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Liste:\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"ListBucket"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Ecrire:\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"CreateBucket"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"DeleteObject"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"DeleteObjectVersion"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"PutObject"}]}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Pour tester la solution sans gestion fine des autorisations, vous pouvez donner les 3 politiques suivantes à votre utilisateur IAM:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"AmazonS3FullAccess"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"AmazonTextractFullAccess"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"AmazonTextractServiceRole"}]}]},{"type":"element","tag":"callout","props":{"color":"amber","icon":"i-heroicons-exclamation-triangle"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"La gestion des rôles et politiques d'autorisation est dépendante d'AWS Textract."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nVeuillez vous reporter à la documentation de ce service pour toute implémentation du connecteur."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Une fois que votre utilisateur IAM est créé et que les bonnes politiques d'autorisation lui ont été attribuées, vous pouvez créer une clé d'accès et copier-coller la clé ainsi que le secret d'accès dans le document "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Paramètres d'OCR"}]},{"type":"text","value":" de votre site Dokos."}]},{"type":"element","tag":"h2","props":{"id":"paramétrage-de-dokos"},"children":[{"type":"text","value":"Paramétrage de Dokos"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Le formulaire "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Paramètres d'OCR"}]},{"type":"text","value":" permet de configurer deux types d'éléments:"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Les clés de connexion obtenues sur AWS Textract"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Les paramètres de création de factures"}]}]},{"type":"element","tag":"h3","props":{"id":"factures-dachat"},"children":[{"type":"text","value":"Factures d'achat"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Il est possible de permettre la création de factures d'achat sans commandes fournisseur ou reçus d'achat."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nDans ce cas, il ne sera plus possible de créer de commande fournisseur depuis la page de la facture d'achat en attente."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Vous pouvez également bloquer la création de factures d'achat dont le total TTC excède le montant indiqué sur la facture en attente."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nEn l'occurence, il s'agit du montant renvoyé par l'OCR."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Similairement, vous pouvez bloquer la création de factures d'achat dont le total HT excède le montant HT indiqué sur la facture en attente.\nEn l'occurence, il s'agit du montant renvoyé par l'OCR."}]}]},{"type":"element","tag":"h2","props":{"id":"génération-automatique-de-banette-de-factures-dachats"},"children":[{"type":"text","value":"Génération automatique de banette de factures d'achats"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Vous pouvez déclencher la création automatique de banettes de factures d'achat pour tout email envoyé à une adresse email pré-définie."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Pour cela, ajoutez un compte email dans Dokos, puis dans la section "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Détails IMAP"}]},{"type":"text","value":", indiquez à Dokos de créer une nouvelle banette de factures d'achat pour tous les emails dans l'INBOX de la boîte email:"}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"Nom du dossier"}]},{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"Ajouter à"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"INBOX"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Bannette de factures d'achats"}]}]}]}]}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:4.integrations:7.extraction-donnees:0.index.md","_source":"content","_file":"4.integrations/7.extraction-donnees/0.index.md","_extension":"md"}