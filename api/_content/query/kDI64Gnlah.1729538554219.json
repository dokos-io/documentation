{"_path":"/integrations/extraction-donnees","_dir":{"_path":"/integrations/extraction-donnees/_dir","title":"Extraction de données","icon":"i-mdi-ocr"},"_draft":false,"_partial":false,"_locale":"fr","title":"Extraction de données","description":"Application Dokos permettant d'extraire des données via OCR","body":{"type":"root","children":[{"type":"element","tag":"tabs","props":{},"children":[{"type":"element","tag":"div","props":{"icon":"i-mdi-ev-plug-chademo","label":"Fonctionnalités"},"children":[{"type":"element","tag":"h3","props":{"id":"extraction-des-données-factures-fournisseur"},"children":[{"type":"text","value":"Extraction des données factures fournisseur"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"L'application d'OCR permet de fournir un PDF de facture fournisseur à Textract, qui renvoie les informations sous forme structurées afin de générer une commande fournisseur ou une facture fournisseur."}]},{"type":"element","tag":"mermaid","props":{},"children":[{"type":"element","tag":"pre","props":{"className":"language-text shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","code":"flowchart LR\n  B[Banette de facture d'achat] --> D[Demande d'extraction de données]\n  D --> C[Commande fournisseur]\n  C --> F[Facture d'achat]\n","language":"text","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"flowchart LR\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  B[Banette de facture d'achat] --> D[Demande d'extraction de données]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  D --> C[Commande fournisseur]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  C --> F[Facture d'achat]\n"}]}]}]}]}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Les PDF sont déposés dans une banette de facture d'achat"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Une banette permet ensuite de générer une demande d'extraction de donnnées par fichier"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Chaque PDF est envoyé à Amazon Textract poour en extraire les données sous un format structuré"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Une fois l'analyse terminée, Dokos utilise les données pour trouver une commande fournisseur correspondante ou en créer une nouvelle"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Une fois la commande fournisseur validée, un facture d'achats est automatiquement créée, prête à être validée"}]}]},{"type":"element","tag":"h3","props":{"id":"statuts-des-demandes-dextraction-de-données"},"children":[{"type":"text","value":"Statuts des demandes d'extraction de données"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Les demandes d'extraction changent de statut en fonction de leur état:"}]},{"type":"element","tag":"mermaid","props":{},"children":[{"type":"element","tag":"pre","props":{"className":"language-text shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","code":"flowchart LR\n  A[En attente] --> B[Analyse Terminée]\n  B --> C[Commande fournisseur créée]\n  C --> D[Facture d'achats créée]\n  D --> E[Terminé]\n","language":"text","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"flowchart LR\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  A[En attente] --> B[Analyse Terminée]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  B --> C[Commande fournisseur créée]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  C --> D[Facture d'achats créée]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  D --> E[Terminé]\n"}]}]}]}]}]}]},{"type":"element","tag":"div","props":{"icon":"i-mdi-ev-plug-chademo","label":"Installation"},"children":[{"type":"element","tag":"h2","props":{"id":"application-docr"},"children":[{"type":"text","value":"Application d'OCR"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Dokos dispose d'une application permettant l'extraction des données de factures d'achat grâce à une intégration avec "},{"type":"element","tag":"a","props":{"href":"https://aws.amazon.com/fr/textract/","rel":["nofollow"]},"children":[{"type":"text","value":"Amazon Textract"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"L'installation de cette application est facultative."}]},{"type":"element","tag":"callout","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Afin d'avoir ces fonctionnalités sur votre site Dokos, veuillez installer l'application "},{"type":"element","tag":"a","props":{"href":"https://gitlab.com/dokos/ocr","rel":["nofollow"]},"children":[{"type":"text","value":"OCR"}]},{"type":"text","value":":br\nSi vous êtes client Dokos Cloud, vous pouvez faire une demande d'installation à l'adresse "},{"type":"element","tag":"a","props":{"href":"","mailto":"help@dokos.cloud"},"children":[]},{"type":"element","tag":"a","props":{"href":"mailto:help@dokos.cloud"},"children":[{"type":"text","value":"help@dokos.cloud"}]}]}]},{"type":"element","tag":"h2","props":{"id":"espace-de-travail"},"children":[{"type":"text","value":"Espace de travail"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"L'installation de cette application ajoute un nouvel espace de travail "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Extraction de données"}]},{"type":"text","value":" sous l'espace de travail "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Achats"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"div","props":{"icon":"i-mdi-checkbox-multiple-marked-outline","label":"Paramétrage"},"children":[{"type":"element","tag":"h2","props":{"id":"intégration-avec-amazon-textract"},"children":[{"type":"text","value":"Intégration avec Amazon Textract"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Pour connecter Dokos et Amazon Textract, vous devez créer un compte AWS et créer un utilisateur IAM avec, a minima, les politiques d'autorisations suivantes:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Accès à Amazon Textract\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Lecture:\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"AnalyzeDocument"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"AnalyzeExpense"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"GetDocumentAnalysis"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"GetExpenseAnalysis"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"GetDocumentTextDetection"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Ecriture:\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"StartDocumentAnalysis"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"StartExpenseAnalysis"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"StartDocumentTextDetection"}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Accès à Amazon S3\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Liste:\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"ListBucket"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Ecrire:\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"CreateBucket"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"DeleteObject"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"DeleteObjectVersion"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"PutObject"}]}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Pour tester la solution sans gestion fine des autorisations, vous pouvez donner les 3 politiques suivantes à votre utilisateur IAM:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"AmazonS3FullAccess"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"AmazonTextractFullAccess"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"AmazonTextractServiceRole"}]}]},{"type":"element","tag":"callout","props":{"color":"amber","icon":"i-heroicons-exclamation-triangle"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"La gestion des rôles et politiques d'autorisation est dépendante d'AWS Textract."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nVeuillez vous reporter à la documentation de ce service pour toute implémentation du connecteur."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Une fois que votre utilisateur IAM est créé et que les bonnes politiques d'autorisation lui ont été attribuées, vous pouvez créer une clé d'accès et copier-coller la clé ainsi que le secret d'accès dans le document "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Paramètres d'OCR"}]},{"type":"text","value":" de votre site Dokos."}]},{"type":"element","tag":"h2","props":{"id":"paramétrage-de-dokos"},"children":[{"type":"text","value":"Paramétrage de Dokos"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Le formulaire "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Paramètres d'OCR"}]},{"type":"text","value":" permet de configurer deux types d'éléments:"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Les clés de connexion obtenues sur AWS Textract"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Les paramètres de création de commande/facture"}]}]},{"type":"element","tag":"h3","props":{"id":"mode-de-création-des-commandes"},"children":[{"type":"text","value":"Mode de création des commandes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Vous disposez de trois modes de création des commandes au choix:"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Obtenir les articles des commandes fournisseurs reconnues par l'OCR\nLe cas échéant, l'application cherche la commande fournisseur présentes dans Dokos qui ont le numéro de bon de commande reconnu par l'OCR. S'il trouve une commande correspondante, il l'associe avec la demande d'extraction de données."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Obtenir les articles de la première commande fournisseur liée avec le fournisseur\nL'application cherche dans Dokos une commande fournisseur ouverte et liée avec le fournisseur détecté par l'OCR. S'il en trouve une, il l'associe avec la demande d'extraction de données."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Consolider les lignes en une seule ligne de facturation\nDans ce cas de figure, l'application d'extraction de données, ne cherche pas de commande fournisseur existante, mais en crée systématiquement une nouvelle en consolidant toutes les lignes en une ligne d'achats globale.:br\nDans ce cas, il est possible de sélectionner un article générique qui sera utilisé pour la facturation globale."}]}]},{"type":"element","tag":"h3","props":{"id":"création-automatique-de-commande-fournisseur"},"children":[{"type":"text","value":"Création automatique de commande fournisseur"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Si l'une des deux options est sélectionnée, il est possible d'indiquer à l'application de créer automatiquement un brouillon de commande fournisseur si aucune correspondance n'est trouvée avec une commande déjà existante:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Obtenir les articles des commandes fournisseurs reconnues par l'OCR"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Obtenir les articles de la première commande fournisseur liée avec le fournisseur"}]}]},{"type":"element","tag":"h3","props":{"id":"factures-dachat"},"children":[{"type":"text","value":"Factures d'achat"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Par défaut, à la validation de la commande fournisseur, une facture fournisseur est automatiquement créée en brouillon.:br\nIl est possible de désactiver cette fonctionnalité."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Une autre option permet à l'inverse, d'indiquer à l'application de valider automatiquement les factures fournisseur qui sont créées à partir de commandes fournisseur liées à l'OCR."}]},{"type":"element","tag":"h2","props":{"id":"génération-automatique-de-banette-de-factures-dachats"},"children":[{"type":"text","value":"Génération automatique de banette de factures d'achats"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Vous pouvez déclencher la création automatique de banettes de factures d'achat pour tout email envoyé à une adresse email pré-définie."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Pour cela, ajoutez un compte email dans Dokos, puis dans la section "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Détails IMAP"}]},{"type":"text","value":", indiquez à Dokos de créer une nouvelle banette de factures d'achat pour tous les emails dans l'INBOX de la boîte email:"}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"Nom du dossier"}]},{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"Ajouter à"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"INBOX"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Bannette de factures d'achats"}]}]}]}]}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:4.integrations:7.extraction-donnees:0.index.md","_source":"content","_file":"4.integrations/7.extraction-donnees/0.index.md","_extension":"md"}