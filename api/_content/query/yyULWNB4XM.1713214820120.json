{"_path":"/dodock/administration/domaine","_dir":"administration","_draft":false,"_partial":false,"_locale":"fr","title":"Multi-tenant","description":"Une fois que vous avez installé Dodock vous voudrez certainement activer sa fonctionnalité DNS Multitenant pour y accéder depuis votre nom de domaine.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"multi-tenant"},"children":[{"type":"text","value":"Multi-tenant"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Une fois que vous avez installé "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Dodock"}]},{"type":"text","value":" vous voudrez certainement activer sa fonctionnalité DNS Multitenant pour y accéder depuis votre nom de domaine."}]},{"type":"element","tag":"h2","props":{"id":"multi-tenant-basé-sur-les-ports"},"children":[{"type":"text","value":"Multi-tenant basé sur les ports"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Par défaut un port spécifique de votre serveur est attribué à votre nouveau site.\nLe port 80 est attribué au premier, le port 81 au deuxième, etc..."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Pour modifier le port attribué à un site, vous pouvez lancer:\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"bench set-nginx-port {votre site} {numéro de port}"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Par exemple:\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"bench set-nginx-port siteexemple.com 81"}]}]},{"type":"element","tag":"h2","props":{"id":"multi-tenant-basé-sur-ladresse-dns"},"children":[{"type":"text","value":"Multi-tenant basé sur l'adresse DNS"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Afin de simplifier la gestion de votre serveur web, vous pouvez activer la fonctionnalité DNS Multitenant.\nCette fonctionnalité vous permet de simplement nommer le dossier contenant votre site comme votre nom de domaine et de laisser "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Dodock"}]},{"type":"text","value":" gérer le reste:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Pour activer le mode DNS Multitenant, lancez:\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"bench config dns_multitenant on"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Si vous avez déjà créé un site, vous pouvez le renommer avec:\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"mv sites/{ancien nom du site} sites/{nouveau nom du site}"}]}]},{"type":"element","tag":"h2","props":{"id":"créer-un-nouveau-site"},"children":[{"type":"text","value":"Créer un nouveau site"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Pour créer un nouveau site, vous pouvez lancer:\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"bench new-site {votre site}"}]}]},{"type":"element","tag":"h2","props":{"id":"relancez-le-serveur-web"},"children":[{"type":"text","value":"Relancez le serveur web"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Une fois que vous avez modifié le port, activé le mode DNS Multitenant ou créé un nouveau site, vous devez mettre à jour la configuration de Nginx (serveur web)."}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Regénérez le fichier de configuration: "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"bench setup nginx"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Rechargez Nginx: "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"sudo systemctl reload nginx"}]},{"type":"text","value":" ou "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"sudo service nginx reload"}]}]}]},{"type":"element","tag":"callout","props":{"color":"amber","icon":"i-heroicons-exclamation-triangle"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Pour que la redirection DNS fonctionne, il faut également que vous ajoutiez une entrée DNS de type A pointant vers le serveur sur lequel est installé Dodock."}]}]},{"type":"element","tag":"h2","props":{"id":"pour-aller-plus-loin"},"children":[{"type":"text","value":"Pour aller plus loin"}]},{"type":"element","tag":"card-group","props":{},"children":[{"type":"element","tag":"card","props":{"icon":"i-mdi-lock-outline","title":"Let's Encrypt","to":"/dodock/administration/certificat"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Configuration du certificat SSL avec Let's Encrypt"}]}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"multi-tenant-basé-sur-les-ports","depth":2,"text":"Multi-tenant basé sur les ports"},{"id":"multi-tenant-basé-sur-ladresse-dns","depth":2,"text":"Multi-tenant basé sur l'adresse DNS"},{"id":"créer-un-nouveau-site","depth":2,"text":"Créer un nouveau site"},{"id":"relancez-le-serveur-web","depth":2,"text":"Relancez le serveur web"},{"id":"pour-aller-plus-loin","depth":2,"text":"Pour aller plus loin"}]}},"_type":"markdown","_id":"content:3.dodock:12.administration:2.domaine.md","_source":"content","_file":"3.dodock/12.administration/2.domaine.md","_extension":"md"}