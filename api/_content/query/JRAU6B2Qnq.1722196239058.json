{"_path":"/dodock/ressources/api/exemples/sales-order-call","_dir":"exemples","_draft":false,"_partial":false,"_locale":"fr","title":"Création d'une commande client via l'API","description":null,"published":true,"date":"2022-03-01T18:37:58.459Z","tags":null,"editor":"markdown","dateCreated":"2022-03-01T18:23:48.000Z","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"créer-une-commande-client-via-lapi-avec-postman"},"children":[{"type":"text","value":"Créer une commande client via l'API avec Postman"}]},{"type":"element","tag":"callout","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Postman est une plateforme permettant d'utiliser une API. Nous l'utilisons ici pour simplifier les appels à l'API de Dokos."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"a","props":{"href":"https://www.postman.com/","rel":["nofollow"]},"children":[{"type":"text","value":"https://www.postman.com/"}]}]}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Créez un nouvel onglet"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Sélectionnez le type d'appel "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"POST"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Entrez l'URL de votre site suivi de la ressource que vous souhaitez créer: Sales Order (Commande client)"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Exemple: "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"http://localhost:8000/api/resource/Sales Order"}]}]},{"type":"element","tag":"ol","props":{"start":4},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Dans la section "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Headers"}]},{"type":"text","value":" ajoutez les deux clés/valeurs suivantes:"}]}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"KEY"}]},{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"VALUE"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Authorization"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"token "},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"clé publique"}]},{"type":"text","value":":"},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"clé privée"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Content-Type"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"application/json"}]}]}]}]},{"type":"element","tag":"callout","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Vous pouvez récupérer une clé publique et une clé privée associée à un utilisateur en allant dans ses paramètres utilisateur; section Accès API."}]}]},{"type":"element","tag":"ol","props":{"start":5},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Dans la section "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Body"}]},{"type":"text","value":", cochez "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"raw"}]},{"type":"text","value":" et ajoutez un objet contenant les valeurs qu'on souhaite associer à notre réservation:"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Exemple:"}]},{"type":"element","tag":"pre","props":{"code":"{\n    \"customer\": \"Roslyn Lépicier\",\n    \"items\": [\n        {\n            \"item_code\": \"Salle de coworking\",\n            \"delivery_date\": \"2022-04-01\",\n            \"qty\": 1,\n            \"uom\": \"Heure\"\n        }\n    ]\n}\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n    \"customer\": \"Roslyn Lépicier\",\n    \"items\": [\n        {\n            \"item_code\": \"Salle de coworking\",\n            \"delivery_date\": \"2022-04-01\",\n            \"qty\": 1,\n            \"uom\": \"Heure\"\n        }\n    ]\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Exemple en associant votre commande à une réservation d'articles:\n"},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Vous pouvez, par exemple, créer une réservation d'articles et inclure son "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"nom"}]},{"type":"text","value":" dans votre requête."}]}]},{"type":"element","tag":"pre","props":{"code":"{\n    \"customer\": \"Roslyn Lépicier\",\n    \"items\": [\n        {\n            \"item_code\": \"Salle de coworking\",\n            \"delivery_date\": \"2022-04-01\",\n            \"qty\": 1,\n            \"uom\": \"Heure\",\n            \"item_booking\": \"STO-BOOK-2022-00102\"\n        }\n    ]\n}\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n    \"customer\": \"Roslyn Lépicier\",\n    \"items\": [\n        {\n            \"item_code\": \"Salle de coworking\",\n            \"delivery_date\": \"2022-04-01\",\n            \"qty\": 1,\n            \"uom\": \"Heure\",\n            \"item_booking\": \"STO-BOOK-2022-00102\"\n        }\n    ]\n}\n"}]}]},{"type":"element","tag":"callout","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Seuls le champ "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"customer"}]},{"type":"text","value":"et une ligne de commande ("},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"items"}]},{"type":"text","value":") sont obligatoires, mais il est possible d'ajouter une valeur pour n'importe quel autre champ disponible dans le document."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nPour connaître les champs disponible et leur caractère obligatoire ou non, il suffit d'aller dans la liste de Réservations d'article et de sélectionner Menu (...) > Personnaliser."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nPour les tables enfants ("},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Sales Order Item"}]},{"type":"text","value":" par exemple), sélectionnez "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Personnaliser une table enfant"}]},{"type":"text","value":" dans la page de personnalisation de formulaire."}]}]},{"type":"element","tag":"h2","props":{"id":"valider-une-commande"},"children":[{"type":"text","value":"Valider une commande"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Pour valider une commande vous pouvez passer le statut de document 1 dans votre document:"}]},{"type":"element","tag":"pre","props":{"code":"{\n    \"customer\": \"Roslyn Lépicier\",\n    \"docstatus\": 1,\n    \"items\": [\n        {\n            \"item_code\": \"Salle de coworking\",\n            \"delivery_date\": \"2022-04-01\",\n            \"qty\": 1,\n            \"uom\": \"Heure\",\n            \"item_booking\": \"STO-BOOK-2022-00102\"\n        }\n    ]\n}\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n    \"customer\": \"Roslyn Lépicier\",\n    \"docstatus\": 1,\n    \"items\": [\n        {\n            \"item_code\": \"Salle de coworking\",\n            \"delivery_date\": \"2022-04-01\",\n            \"qty\": 1,\n            \"uom\": \"Heure\",\n            \"item_booking\": \"STO-BOOK-2022-00102\"\n        }\n    ]\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Vous pouvez également utiliser l'API suivante pour soumettre un brouillon déjà créé et renvoyé par l'API:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"http://localhost:8000/api/method/frappe.client.submit"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Avec, dans le corps de l'appel, un brouillon de commande créé précédemment:"}]},{"type":"element","tag":"pre","props":{"code":"{\n    \"doc\": {\n        \"name\": \"SAL-ORD-2022-00116\",\n        \"owner\": \"thierry@dokos.io\",\n        \"creation\": \"2022-03-01 18:31:44.895404\",\n        \"modified\": \"2022-03-01 18:31:44.895404\",\n        \"modified_by\": \"thierry@dokos.io\",\n        \"parent\": null,\n        \"parentfield\": null,\n        \"parenttype\": null,\n        \"idx\": 0,\n        \"docstatus\": 0,\n        \"title\": \"{customer_name}\",\n        \"naming_series\": \"SAL-ORD-.YYYY.-\",\n        \"customer\": \"Roslyn L\\u00e9picier\",\n        \"customer_name\": \"Roslyn L\\u00e9picier\",\n        \"order_type\": \"Sales\",\n        \"skip_delivery_note\": 0,\n        \"amended_from\": null,\n        \"company\": \"MappeMonde\",\n        \"transaction_date\": \"2022-03-01\",\n        \"delivery_date\": \"2022-04-01\",\n        \"po_no\": null,\n        \"po_date\": null,\n        \"tax_id\": null,\n        \"customer_address\": \"Roslyn L\\u00e9picier-Facturation\",\n        \"address_display\": \"23 rue Clement Marot<br>66100 PERPIGNAN<br>\\nFrance<br>\\n\",\n        \"contact_person\": \"Roslyn L\\u00e9picier-Roslyn L\\u00e9picier\",\n        \"contact_display\": \"Roslyn L\\u00e9picier\",\n        \"contact_phone\": \"04.37.73.66.41\",\n        \"contact_mobile\": \"\",\n        \"contact_email\": \"RoslynLepicier@armyspy.com\",\n        \"company_address\": null,\n        \"company_address_display\": null,\n        \"shipping_address_name\": \"Roslyn L\\u00e9picier-Facturation\",\n        \"shipping_address\": \"23 rue Clement Marot<br>66100 PERPIGNAN<br>\\nFrance<br>\\n\",\n        \"customer_group\": \"Tous les Groupes Client\",\n        \"territory\": \"Tous les Territoires\",\n        \"currency\": \"EUR\",\n        \"conversion_rate\": 1.0,\n        \"selling_price_list\": \"Vente Standard\",\n        \"price_list_currency\": \"EUR\",\n        \"plc_conversion_rate\": 1.0,\n        \"ignore_pricing_rule\": 0,\n        \"set_warehouse\": null,\n        \"scan_barcode\": null,\n        \"total_qty\": 1.0,\n        \"base_total\": 5.0,\n        \"base_net_total\": 5.0,\n        \"total_net_weight\": 0.0,\n        \"total\": 5.0,\n        \"net_total\": 5.0,\n        \"tax_category\": \"\",\n        \"shipping_rule\": null,\n        \"taxes_and_charges\": null,\n        \"other_charges_calculation\": null,\n        \"base_total_taxes_and_charges\": 0.0,\n        \"total_taxes_and_charges\": 0.0,\n        \"loyalty_points\": 0,\n        \"loyalty_amount\": 0.0,\n        \"coupon_code\": null,\n        \"apply_discount_on\": \"Grand Total\",\n        \"base_discount_amount\": 0.0,\n        \"additional_discount_percentage\": 0.0,\n        \"discount_amount\": 0.0,\n        \"base_grand_total\": 5.0,\n        \"base_rounding_adjustment\": 0.0,\n        \"base_rounded_total\": 5.0,\n        \"base_in_words\": \"Five Euro\",\n        \"grand_total\": 5.0,\n        \"rounding_adjustment\": 0.0,\n        \"rounded_total\": 5.0,\n        \"in_words\": \"Five Euro\",\n        \"advance_paid\": 0.0,\n        \"disable_rounded_total\": 0,\n        \"payment_terms_template\": null,\n        \"tc_name\": null,\n        \"terms\": null,\n        \"is_internal_customer\": 0,\n        \"represents_company\": null,\n        \"inter_company_order_reference\": null,\n        \"project\": null,\n        \"party_account_currency\": null,\n        \"source\": null,\n        \"campaign\": null,\n        \"external_reference\": null,\n        \"language\": \"fr\",\n        \"letter_head\": null,\n        \"select_print_heading\": null,\n        \"group_same_items\": 0,\n        \"status\": \"Draft\",\n        \"delivery_status\": \"Not Delivered\",\n        \"per_delivered\": 0.0,\n        \"per_billed\": 0.0,\n        \"billing_status\": \"Not Billed\",\n        \"sales_partner\": null,\n        \"commission_rate\": 0.0,\n        \"total_commission\": 0.0,\n        \"from_date\": null,\n        \"to_date\": null,\n        \"subscription\": null,\n        \"auto_repeat\": null,\n        \"doctype\": \"Sales Order\",\n        \"items\": [\n            {\n                \"name\": \"5317c1c489\",\n                \"owner\": \"thierry@dokos.io\",\n                \"creation\": \"2022-03-01 18:31:44.895404\",\n                \"modified\": \"2022-03-01 18:31:44.895404\",\n                \"modified_by\": \"thierry@dokos.io\",\n                \"parent\": \"SAL-ORD-2022-00116\",\n                \"parentfield\": \"items\",\n                \"parenttype\": \"Sales Order\",\n                \"idx\": 1,\n                \"docstatus\": 0,\n                \"item_code\": \"Salle de coworking\",\n                \"customer_item_code\": null,\n                \"ensure_delivery_based_on_produced_serial_no\": 0,\n                \"delivery_date\": \"2022-04-01\",\n                \"item_name\": \"Salle de coworking\",\n                \"description\": \"<div><p>R\\u00e9servez votre place dans notre salle de coworking</p></div>\",\n                \"item_group\": \"Coworking\",\n                \"brand\": null,\n                \"image\": \"/assets/tierslieux/images/coworking.jpg\",\n                \"qty\": 1.0,\n                \"stock_uom\": \"Heure\",\n                \"uom\": \"Heure\",\n                \"conversion_factor\": 1.0,\n                \"stock_qty\": 1.0,\n                \"price_list_rate\": 5.0,\n                \"base_price_list_rate\": 5.0,\n                \"margin_type\": \"\",\n                \"margin_rate_or_amount\": 0.0,\n                \"rate_with_margin\": 0.0,\n                \"discount_percentage\": 0.0,\n                \"discount_amount\": 0.0,\n                \"base_rate_with_margin\": 0.0,\n                \"rate\": 5.0,\n                \"amount\": 5.0,\n                \"item_tax_template\": null,\n                \"base_rate\": 5.0,\n                \"base_amount\": 5.0,\n                \"pricing_rules\": \"[]\",\n                \"stock_uom_rate\": 5.0,\n                \"is_free_item\": 0,\n                \"net_rate\": 5.0,\n                \"net_amount\": 5.0,\n                \"base_net_rate\": 5.0,\n                \"base_net_amount\": 5.0,\n                \"billed_amt\": 0.0,\n                \"valuation_rate\": 0.0,\n                \"gross_profit\": 5.0,\n                \"delivered_by_supplier\": 0,\n                \"supplier\": null,\n                \"weight_per_unit\": 0.0,\n                \"total_weight\": 0.0,\n                \"weight_uom\": null,\n                \"warehouse\": \"Magasins - MM\",\n                \"target_warehouse\": null,\n                \"prevdoc_docname\": null,\n                \"against_blanket_order\": 0,\n                \"blanket_order\": null,\n                \"blanket_order_rate\": 0.0,\n                \"bom_no\": null,\n                \"projected_qty\": 0.0,\n                \"actual_qty\": 0.0,\n                \"ordered_qty\": 0.0,\n                \"planned_qty\": 0.0,\n                \"work_order_qty\": 0.0,\n                \"delivered_qty\": 0.0,\n                \"produced_qty\": 0.0,\n                \"returned_qty\": 0.0,\n                \"additional_notes\": null,\n                \"item_booking\": \"STO-BOOK-2022-00102\",\n                \"page_break\": 0,\n                \"item_tax_rate\": \"[]\",\n                \"transaction_date\": \"2022-03-01\",\n                \"doctype\": \"Sales Order Item\",\n                \"__unsaved\": 1\n            }\n        ],\n        \"pricing_rules\": [],\n        \"taxes\": [],\n        \"packed_items\": [],\n        \"payment_schedule\": [\n            {\n                \"name\": \"242d92065b\",\n                \"owner\": null,\n                \"creation\": \"2022-03-01 18:31:45.484130\",\n                \"modified\": \"2022-03-01 18:31:45.484130\",\n                \"modified_by\": \"thierry@dokos.io\",\n                \"parent\": \"SAL-ORD-2022-00116\",\n                \"parentfield\": \"payment_schedule\",\n                \"parenttype\": \"Sales Order\",\n                \"idx\": 1,\n                \"docstatus\": 0,\n                \"payment_term\": null,\n                \"description\": null,\n                \"due_date\": \"2022-03-01\",\n                \"mode_of_payment\": null,\n                \"invoice_portion\": 100.0,\n                \"discount_type\": null,\n                \"discount_date\": null,\n                \"discount\": 0.0,\n                \"payment_amount\": 5.0,\n                \"outstanding\": 5.0,\n                \"paid_amount\": 0.0,\n                \"discounted_amount\": 0.0,\n                \"base_payment_amount\": 5.0,\n                \"doctype\": \"Payment Schedule\"\n            }\n        ],\n        \"sales_team\": []\n    }\n}\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n    \"doc\": {\n        \"name\": \"SAL-ORD-2022-00116\",\n        \"owner\": \"thierry@dokos.io\",\n        \"creation\": \"2022-03-01 18:31:44.895404\",\n        \"modified\": \"2022-03-01 18:31:44.895404\",\n        \"modified_by\": \"thierry@dokos.io\",\n        \"parent\": null,\n        \"parentfield\": null,\n        \"parenttype\": null,\n        \"idx\": 0,\n        \"docstatus\": 0,\n        \"title\": \"{customer_name}\",\n        \"naming_series\": \"SAL-ORD-.YYYY.-\",\n        \"customer\": \"Roslyn L\\u00e9picier\",\n        \"customer_name\": \"Roslyn L\\u00e9picier\",\n        \"order_type\": \"Sales\",\n        \"skip_delivery_note\": 0,\n        \"amended_from\": null,\n        \"company\": \"MappeMonde\",\n        \"transaction_date\": \"2022-03-01\",\n        \"delivery_date\": \"2022-04-01\",\n        \"po_no\": null,\n        \"po_date\": null,\n        \"tax_id\": null,\n        \"customer_address\": \"Roslyn L\\u00e9picier-Facturation\",\n        \"address_display\": \"23 rue Clement Marot<br>66100 PERPIGNAN<br>\\nFrance<br>\\n\",\n        \"contact_person\": \"Roslyn L\\u00e9picier-Roslyn L\\u00e9picier\",\n        \"contact_display\": \"Roslyn L\\u00e9picier\",\n        \"contact_phone\": \"04.37.73.66.41\",\n        \"contact_mobile\": \"\",\n        \"contact_email\": \"RoslynLepicier@armyspy.com\",\n        \"company_address\": null,\n        \"company_address_display\": null,\n        \"shipping_address_name\": \"Roslyn L\\u00e9picier-Facturation\",\n        \"shipping_address\": \"23 rue Clement Marot<br>66100 PERPIGNAN<br>\\nFrance<br>\\n\",\n        \"customer_group\": \"Tous les Groupes Client\",\n        \"territory\": \"Tous les Territoires\",\n        \"currency\": \"EUR\",\n        \"conversion_rate\": 1.0,\n        \"selling_price_list\": \"Vente Standard\",\n        \"price_list_currency\": \"EUR\",\n        \"plc_conversion_rate\": 1.0,\n        \"ignore_pricing_rule\": 0,\n        \"set_warehouse\": null,\n        \"scan_barcode\": null,\n        \"total_qty\": 1.0,\n        \"base_total\": 5.0,\n        \"base_net_total\": 5.0,\n        \"total_net_weight\": 0.0,\n        \"total\": 5.0,\n        \"net_total\": 5.0,\n        \"tax_category\": \"\",\n        \"shipping_rule\": null,\n        \"taxes_and_charges\": null,\n        \"other_charges_calculation\": null,\n        \"base_total_taxes_and_charges\": 0.0,\n        \"total_taxes_and_charges\": 0.0,\n        \"loyalty_points\": 0,\n        \"loyalty_amount\": 0.0,\n        \"coupon_code\": null,\n        \"apply_discount_on\": \"Grand Total\",\n        \"base_discount_amount\": 0.0,\n        \"additional_discount_percentage\": 0.0,\n        \"discount_amount\": 0.0,\n        \"base_grand_total\": 5.0,\n        \"base_rounding_adjustment\": 0.0,\n        \"base_rounded_total\": 5.0,\n        \"base_in_words\": \"Five Euro\",\n        \"grand_total\": 5.0,\n        \"rounding_adjustment\": 0.0,\n        \"rounded_total\": 5.0,\n        \"in_words\": \"Five Euro\",\n        \"advance_paid\": 0.0,\n        \"disable_rounded_total\": 0,\n        \"payment_terms_template\": null,\n        \"tc_name\": null,\n        \"terms\": null,\n        \"is_internal_customer\": 0,\n        \"represents_company\": null,\n        \"inter_company_order_reference\": null,\n        \"project\": null,\n        \"party_account_currency\": null,\n        \"source\": null,\n        \"campaign\": null,\n        \"external_reference\": null,\n        \"language\": \"fr\",\n        \"letter_head\": null,\n        \"select_print_heading\": null,\n        \"group_same_items\": 0,\n        \"status\": \"Draft\",\n        \"delivery_status\": \"Not Delivered\",\n        \"per_delivered\": 0.0,\n        \"per_billed\": 0.0,\n        \"billing_status\": \"Not Billed\",\n        \"sales_partner\": null,\n        \"commission_rate\": 0.0,\n        \"total_commission\": 0.0,\n        \"from_date\": null,\n        \"to_date\": null,\n        \"subscription\": null,\n        \"auto_repeat\": null,\n        \"doctype\": \"Sales Order\",\n        \"items\": [\n            {\n                \"name\": \"5317c1c489\",\n                \"owner\": \"thierry@dokos.io\",\n                \"creation\": \"2022-03-01 18:31:44.895404\",\n                \"modified\": \"2022-03-01 18:31:44.895404\",\n                \"modified_by\": \"thierry@dokos.io\",\n                \"parent\": \"SAL-ORD-2022-00116\",\n                \"parentfield\": \"items\",\n                \"parenttype\": \"Sales Order\",\n                \"idx\": 1,\n                \"docstatus\": 0,\n                \"item_code\": \"Salle de coworking\",\n                \"customer_item_code\": null,\n                \"ensure_delivery_based_on_produced_serial_no\": 0,\n                \"delivery_date\": \"2022-04-01\",\n                \"item_name\": \"Salle de coworking\",\n                \"description\": \"<div><p>R\\u00e9servez votre place dans notre salle de coworking</p></div>\",\n                \"item_group\": \"Coworking\",\n                \"brand\": null,\n                \"image\": \"/assets/tierslieux/images/coworking.jpg\",\n                \"qty\": 1.0,\n                \"stock_uom\": \"Heure\",\n                \"uom\": \"Heure\",\n                \"conversion_factor\": 1.0,\n                \"stock_qty\": 1.0,\n                \"price_list_rate\": 5.0,\n                \"base_price_list_rate\": 5.0,\n                \"margin_type\": \"\",\n                \"margin_rate_or_amount\": 0.0,\n                \"rate_with_margin\": 0.0,\n                \"discount_percentage\": 0.0,\n                \"discount_amount\": 0.0,\n                \"base_rate_with_margin\": 0.0,\n                \"rate\": 5.0,\n                \"amount\": 5.0,\n                \"item_tax_template\": null,\n                \"base_rate\": 5.0,\n                \"base_amount\": 5.0,\n                \"pricing_rules\": \"[]\",\n                \"stock_uom_rate\": 5.0,\n                \"is_free_item\": 0,\n                \"net_rate\": 5.0,\n                \"net_amount\": 5.0,\n                \"base_net_rate\": 5.0,\n                \"base_net_amount\": 5.0,\n                \"billed_amt\": 0.0,\n                \"valuation_rate\": 0.0,\n                \"gross_profit\": 5.0,\n                \"delivered_by_supplier\": 0,\n                \"supplier\": null,\n                \"weight_per_unit\": 0.0,\n                \"total_weight\": 0.0,\n                \"weight_uom\": null,\n                \"warehouse\": \"Magasins - MM\",\n                \"target_warehouse\": null,\n                \"prevdoc_docname\": null,\n                \"against_blanket_order\": 0,\n                \"blanket_order\": null,\n                \"blanket_order_rate\": 0.0,\n                \"bom_no\": null,\n                \"projected_qty\": 0.0,\n                \"actual_qty\": 0.0,\n                \"ordered_qty\": 0.0,\n                \"planned_qty\": 0.0,\n                \"work_order_qty\": 0.0,\n                \"delivered_qty\": 0.0,\n                \"produced_qty\": 0.0,\n                \"returned_qty\": 0.0,\n                \"additional_notes\": null,\n                \"item_booking\": \"STO-BOOK-2022-00102\",\n                \"page_break\": 0,\n                \"item_tax_rate\": \"[]\",\n                \"transaction_date\": \"2022-03-01\",\n                \"doctype\": \"Sales Order Item\",\n                \"__unsaved\": 1\n            }\n        ],\n        \"pricing_rules\": [],\n        \"taxes\": [],\n        \"packed_items\": [],\n        \"payment_schedule\": [\n            {\n                \"name\": \"242d92065b\",\n                \"owner\": null,\n                \"creation\": \"2022-03-01 18:31:45.484130\",\n                \"modified\": \"2022-03-01 18:31:45.484130\",\n                \"modified_by\": \"thierry@dokos.io\",\n                \"parent\": \"SAL-ORD-2022-00116\",\n                \"parentfield\": \"payment_schedule\",\n                \"parenttype\": \"Sales Order\",\n                \"idx\": 1,\n                \"docstatus\": 0,\n                \"payment_term\": null,\n                \"description\": null,\n                \"due_date\": \"2022-03-01\",\n                \"mode_of_payment\": null,\n                \"invoice_portion\": 100.0,\n                \"discount_type\": null,\n                \"discount_date\": null,\n                \"discount\": 0.0,\n                \"payment_amount\": 5.0,\n                \"outstanding\": 5.0,\n                \"paid_amount\": 0.0,\n                \"discounted_amount\": 0.0,\n                \"base_payment_amount\": 5.0,\n                \"doctype\": \"Payment Schedule\"\n            }\n        ],\n        \"sales_team\": []\n    }\n}\n"}]}]},{"type":"element","tag":"callout","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Vous pouvez trouver d'autres méthodes d'API disponibles dans ce fichier: "},{"type":"element","tag":"a","props":{"href":"https://gitlab.com/dokos/dodock/-/blob/develop/frappe/client.py","rel":["nofollow"]},"children":[{"type":"text","value":"https://gitlab.com/dokos/dodock/-/blob/develop/frappe/client.py"}]}]}]},{"type":"element","tag":"h2","props":{"id":"créer-une-facture-à-partir-dune-commande"},"children":[{"type":"text","value":"Créer une facture à partir d'une commande"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Vous pouvez créer une facture depuis une commande existante en appelant l'API suivante:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"http://localhost:8000/api/method/erpnext.selling.doctype.sales_order.sales_order.make_sales_invoice"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Corps de l'appel:"}]},{"type":"element","tag":"pre","props":{"code":"{\n    \"source_name\": \"SAL-ORD-2022-00116\"\n}\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n    \"source_name\": \"SAL-ORD-2022-00116\"\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Ensuite il ne vous reste plus qu'à poster la facture directement ou via les API de frappe.client"}]},{"type":"element","tag":"callout","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Vous pouvez modifier le contenu de la facture avant de la poster, pour changer les quantités ou montants facturés par exemple."}]}]},{"type":"element","tag":"h2","props":{"id":"créer-un-paiement-à-partir-dune-commande"},"children":[{"type":"text","value":"Créer un paiement à partir d'une commande"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Vous pouvez créer un paiement à partir d'une commande en appelant l'API suivante:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"http://localhost:8000/api/method/erpnext.accounts.doctype.payment_entry.payment_entry.get_payment_entry"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Corps de l'appel:"}]},{"type":"element","tag":"pre","props":{"code":"{\n        \"dt\": \"Sales Order\",\n        \"dn\": \"SAL-ORD-2022-00116\"\n}\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n        \"dt\": \"Sales Order\",\n        \"dn\": \"SAL-ORD-2022-00116\"\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Ensuite il ne vous reste plus qu'à poster le paiement directement ou via les API de frappe.client"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"valider-une-commande","depth":2,"text":"Valider une commande"},{"id":"créer-une-facture-à-partir-dune-commande","depth":2,"text":"Créer une facture à partir d'une commande"},{"id":"créer-un-paiement-à-partir-dune-commande","depth":2,"text":"Créer un paiement à partir d'une commande"}]}},"_type":"markdown","_id":"content:3.dodock:14.ressources:1.api:5.exemples:sales-order-call.md","_source":"content","_file":"3.dodock/14.ressources/1.api/5.exemples/sales-order-call.md","_extension":"md"}